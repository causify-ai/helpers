
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="all.code_review.how_to_guide.html">
      
      
        <link rel="next" href="all.coding_style_guidelines.reference.html">
      
      
      <link rel="icon" href="../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>All.coding style.how to guide - Helpers docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../styles/styles.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="cyan">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#coding_style" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="Helpers docs" class="md-header__button md-logo" aria-label="Helpers docs" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Helpers docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              All.coding style.how to guide
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Helpers docs" class="md-nav__button md-logo" aria-label="Helpers docs" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    Helpers docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Build system
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Build system
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../build_system/all.gitleaks_workflow.explanation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.gitleaks workflow.explanation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../build_system/all.linter_gh_workflow.explanation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.linter gh workflow.explanation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../build_system/all.pytest_allure.explanation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.pytest allure.explanation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../build_system/all.pytest_allure.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.pytest allure.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../build_system/all.semgrep_workflow.explanation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.semgrep workflow.explanation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Code guidelines
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Code guidelines
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.code_design.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.code design.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.code_like_pragmatic_programmer.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.code like pragmatic programmer.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.code_review.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.code review.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    All.coding style.how to guide
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="all.coding_style.how_to_guide.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    All.coding style.how to guide
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#coding_style" class="md-nav__link">
    <span class="md-ellipsis">
      Coding Style
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Coding Style">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kaizenflow_-_python_style_guide" class="md-nav__link">
    <span class="md-ellipsis">
      KaizenFlow - Python Style Guide
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meta" class="md-nav__link">
    <span class="md-ellipsis">
      Meta
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disclaimer" class="md-nav__link">
    <span class="md-ellipsis">
      Disclaimer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Disclaimer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      References
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#high-level_principles" class="md-nav__link">
    <span class="md-ellipsis">
      High-Level Principles
    </span>
  </a>
  
    <nav class="md-nav" aria-label="High-Level Principles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#follow_the_dry_principle" class="md-nav__link">
    <span class="md-ellipsis">
      Follow the DRY principle
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Follow the DRY principle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the_writer_is_the_reader" class="md-nav__link">
    <span class="md-ellipsis">
      The writer is the reader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encapsulate_what_changes" class="md-nav__link">
    <span class="md-ellipsis">
      Encapsulate what changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#least_surprise_principle" class="md-nav__link">
    <span class="md-ellipsis">
      Least surprise principle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pay_the_technical_debt" class="md-nav__link">
    <span class="md-ellipsis">
      Pay the technical debt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#end-to-end_first" class="md-nav__link">
    <span class="md-ellipsis">
      End-to-end first
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit_test_everything" class="md-nav__link">
    <span class="md-ellipsis">
      Unit test everything
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dont_get_attached_to_code" class="md-nav__link">
    <span class="md-ellipsis">
      Don't get attached to code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#always_plan_before_writing_code" class="md-nav__link">
    <span class="md-ellipsis">
      Always plan before writing code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#think_hard_about_naming" class="md-nav__link">
    <span class="md-ellipsis">
      Think hard about naming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#look_for_inconsistencies" class="md-nav__link">
    <span class="md-ellipsis">
      Look for inconsistencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no_ugly_hacks" class="md-nav__link">
    <span class="md-ellipsis">
      No ugly hacks
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#our_coding_suggestions" class="md-nav__link">
    <span class="md-ellipsis">
      Our coding suggestions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Our coding suggestions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#being_careful_with_naming" class="md-nav__link">
    <span class="md-ellipsis">
      Being careful with naming
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Being careful with naming">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#follow_the_conventions" class="md-nav__link">
    <span class="md-ellipsis">
      Follow the conventions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#follow_spelling_rules" class="md-nav__link">
    <span class="md-ellipsis">
      Follow spelling rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search_good_names_avoid_bad_names" class="md-nav__link">
    <span class="md-ellipsis">
      Search good names, avoid bad names
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Search good names, avoid bad names">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general_naming_rules" class="md-nav__link">
    <span class="md-ellipsis">
      General naming rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do_not_be_stingy" class="md-nav__link">
    <span class="md-ellipsis">
      Do not be stingy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do_not_abbreviate_just_to_save_characters" class="md-nav__link">
    <span class="md-ellipsis">
      Do not abbreviate just to save characters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when_to_use_abbreviations" class="md-nav__link">
    <span class="md-ellipsis">
      When to use abbreviations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid_code_stutter" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid code stutter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comments_and_docstrings" class="md-nav__link">
    <span class="md-ellipsis">
      Comments and docstrings
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comments and docstrings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general_conventions" class="md-nav__link">
    <span class="md-ellipsis">
      General conventions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#descriptive_vs_imperative_style" class="md-nav__link">
    <span class="md-ellipsis">
      Descriptive vs imperative style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docstrings_style" class="md-nav__link">
    <span class="md-ellipsis">
      Docstrings style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#doctrings_content" class="md-nav__link">
    <span class="md-ellipsis">
      Doctrings content
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comments_style" class="md-nav__link">
    <span class="md-ellipsis">
      Comments style
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#this_comment_is_not_imperative_not_capitalized_and_has_no_period_at_the_end" class="md-nav__link">
    <span class="md-ellipsis">
      this comment is not imperative, not capitalized and has no period at the end
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make_comments_imperative_start_with_a_capital_letter_and_end_with_a_period" class="md-nav__link">
    <span class="md-ellipsis">
      Make comments imperative, start with a capital letter and end with a period.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduce_yourself" class="md-nav__link">
    <span class="md-ellipsis">
      Introduce yourself.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set_remapping_based_on_the_run_type" class="md-nav__link">
    <span class="md-ellipsis">
      Set remapping based on the run type.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#replace_empty_lines_in_code_with_comments" class="md-nav__link">
    <span class="md-ellipsis">
      Replace empty lines in code with comments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generate_a_list_of_file_paths_for_parquet_dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Generate a list of file paths for Parquet dataset.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comment_chunks_of_code" class="md-nav__link">
    <span class="md-ellipsis">
      Comment chunks of code
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create_a_dir_to_store_the_system_config" class="md-nav__link">
    <span class="md-ellipsis">
      Create a dir to store the System Config.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create_an_example_config" class="md-nav__link">
    <span class="md-ellipsis">
      Create an example Config.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#save_the_config_in_the_target_dir" class="md-nav__link">
    <span class="md-ellipsis">
      Save the Config in the target dir.
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Save the Config in the target dir.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#referring_to_an_object_in_code_comments" class="md-nav__link">
    <span class="md-ellipsis">
      Referring to an object in code comments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generate_a_list_of_file_paths_for_parquetdataset" class="md-nav__link">
    <span class="md-ellipsis">
      Generate a list of file paths for ParquetDataset.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generate_a_list_of_file_paths_for_parquet_dataset_1" class="md-nav__link">
    <span class="md-ellipsis">
      Generate a list of file paths for Parquet dataset.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the_dataframe_df_tmp_is_used_for" class="md-nav__link">
    <span class="md-ellipsis">
      The dataframe df_tmp is used for ...
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the_dataframe_df_tmp_is_used_for_1" class="md-nav__link">
    <span class="md-ellipsis">
      The dataframe df_tmp is used for ...
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The dataframe df_tmp is used for ...">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#referring_to_type_of_vars_in_code_comments" class="md-nav__link">
    <span class="md-ellipsis">
      Referring to type of vars in code comments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filter_the_list_of_llm_prompts" class="md-nav__link">
    <span class="md-ellipsis">
      Filter the list of LLM prompts.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filter_the_llm_prompts" class="md-nav__link">
    <span class="md-ellipsis">
      Filter the LLM prompts.
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Filter the LLM prompts.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#avoid_distracting_comments" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid distracting comments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#format_the_output_by_displaying_only_the_beginning_and_the_end_segments" class="md-nav__link">
    <span class="md-ellipsis">
      Format the output by displaying only the beginning and the end segments.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#format_the_output" class="md-nav__link">
    <span class="md-ellipsis">
      Format the output.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#print_results" class="md-nav__link">
    <span class="md-ellipsis">
      Print results.
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Print results.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#commenting_out_code" class="md-nav__link">
    <span class="md-ellipsis">
      Commenting out code
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is_alive_kgutilsannotate_alivemetadata_selfalive_cutoff" class="md-nav__link">
    <span class="md-ellipsis">
      is_alive = kgutils.annotate_alive(metadata, self.alive_cutoff)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#todo_as_discussed_in_ptask5047_for_now_we_set_all_timeseries_to_be_alive" class="md-nav__link">
    <span class="md-ellipsis">
      TODO(*): As discussed in PTask5047 for now we set all timeseries to be alive.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is_alive_kgutilsannotate_alivemetadata_selfalive_cutoff_1" class="md-nav__link">
    <span class="md-ellipsis">
      is_alive = kgutils.annotate_alive(metadata, self.alive_cutoff)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="is_alive = kgutils.annotate_alive(metadata, self.alive_cutoff)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use_type_hints" class="md-nav__link">
    <span class="md-ellipsis">
      Use type hints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interval_notation" class="md-nav__link">
    <span class="md-ellipsis">
      Interval notation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#if_you_find_a_bug_or_obsolete_docstringtodo_in_the_code" class="md-nav__link">
    <span class="md-ellipsis">
      If you find a bug or obsolete docstring/TODO in the code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linter" class="md-nav__link">
    <span class="md-ellipsis">
      Linter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Linter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#remove_linter_messages" class="md-nav__link">
    <span class="md-ellipsis">
      Remove Linter messages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when_to_disable_linter_messages" class="md-nav__link">
    <span class="md-ellipsis">
      When to disable Linter messages
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pylint_disablesome-messageanother-one" class="md-nav__link">
    <span class="md-ellipsis">
      pylint: disable=some-message,another-one
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pylint_disablew0611" class="md-nav__link">
    <span class="md-ellipsis">
      pylint: disable=W0611
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pylint_disableunused-import" class="md-nav__link">
    <span class="md-ellipsis">
      pylint: disable=unused-import
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#this_is_needed_when_evaluating_code_at_run-time_that_depends_from" class="md-nav__link">
    <span class="md-ellipsis">
      This is needed when evaluating code at run-time that depends from
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#this_import" class="md-nav__link">
    <span class="md-ellipsis">
      this import.
    </span>
  </a>
  
    <nav class="md-nav" aria-label="this import.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prefer_non-inlined_linter_comments" class="md-nav__link">
    <span class="md-ellipsis">
      Prefer non-inlined Linter comments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pylint_disableline-too-long" class="md-nav__link">
    <span class="md-ellipsis">
      pylint: disable=line-too-long
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pylint: disable=line-too-long">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dont_mix_real_changes_with_linter_changes" class="md-nav__link">
    <span class="md-ellipsis">
      Don't mix real changes with Linter changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging" class="md-nav__link">
    <span class="md-ellipsis">
      Logging
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Logging">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#always_use_logging_instead_of_prints" class="md-nav__link">
    <span class="md-ellipsis">
      Always use logging instead of prints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#our_logging_idiom" class="md-nav__link">
    <span class="md-ellipsis">
      Our logging idiom
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging_level" class="md-nav__link">
    <span class="md-ellipsis">
      Logging level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how_to_pick_the_level_for_a_logging_statement" class="md-nav__link">
    <span class="md-ellipsis">
      How to pick the level for a logging statement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use_positional_args_when_logging" class="md-nav__link">
    <span class="md-ellipsis">
      Use positional args when logging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions_dont_allow_positional_args" class="md-nav__link">
    <span class="md-ellipsis">
      Exceptions don't allow positional args
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#report_warnings" class="md-nav__link">
    <span class="md-ellipsis">
      Report warnings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertions" class="md-nav__link">
    <span class="md-ellipsis">
      Assertions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Assertions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validate_values_before_an_assignment" class="md-nav__link">
    <span class="md-ellipsis">
      Validate values before an assignment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encode_the_assumptions_using_assertions" class="md-nav__link">
    <span class="md-ellipsis">
      Encode the assumptions using assertions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use_positional_args_when_asserting" class="md-nav__link">
    <span class="md-ellipsis">
      Use positional args when asserting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#report_as_much_information_as_possible_in_an_assertion" class="md-nav__link">
    <span class="md-ellipsis">
      Report as much information as possible in an assertion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#imports" class="md-nav__link">
    <span class="md-ellipsis">
      Imports
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Imports">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dont_use_evil_import" class="md-nav__link">
    <span class="md-ellipsis">
      Don't use evil import *
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cleaning_up_the_evil_import" class="md-nav__link">
    <span class="md-ellipsis">
      Cleaning up the evil import *
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid_from_import" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid from ... import ...
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions_to_the_import_style" class="md-nav__link">
    <span class="md-ellipsis">
      Exceptions to the import style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#always_import_with_a_full_path_from_the_root_of_the_repo_submodule" class="md-nav__link">
    <span class="md-ellipsis">
      Always import with a full path from the root of the repo / submodule
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baptizing_module_import" class="md-nav__link">
    <span class="md-ellipsis">
      Baptizing module import
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_of_imports" class="md-nav__link">
    <span class="md-ellipsis">
      Examples of imports
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Scripts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use_python_and_not_bash_for_scripting" class="md-nav__link">
    <span class="md-ellipsis">
      Use Python and not bash for scripting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#template_for_a_script" class="md-nav__link">
    <span class="md-ellipsis">
      Template for a script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#some_useful_patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Some useful patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use_scripts_and_not_notebooks_for_long-running_jobs" class="md-nav__link">
    <span class="md-ellipsis">
      Use scripts and not notebooks for long-running jobs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#follow_the_same_structure" class="md-nav__link">
    <span class="md-ellipsis">
      Follow the same structure
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usrbinenv_python" class="md-nav__link">
    <span class="md-ellipsis">
      !/usr/bin/env python
    </span>
  </a>
  
    <nav class="md-nav" aria-label="!/usr/bin/env python">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use_clear_names_for_the_scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Use clear names for the scripts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#avoid_using_non-exclusive_bool_arguments" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid using non-exclusive bool arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#try_to_make_functions_work_on_multiple_types" class="md-nav__link">
    <span class="md-ellipsis">
      Try to make functions work on multiple types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid_hard-wired_column_name_dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid hard-wired column name dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#single_exit_point_from_a_function" class="md-nav__link">
    <span class="md-ellipsis">
      Single exit point from a function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#order_of_function_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Order of function parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Order of function parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem" class="md-nav__link">
    <span class="md-ellipsis">
      Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision" class="md-nav__link">
    <span class="md-ellipsis">
      Decision
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consistency_of_ordering_of_function_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Consistency of ordering of function parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#style_for_default_parameter" class="md-nav__link">
    <span class="md-ellipsis">
      Style for default parameter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Style for default parameter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem_1" class="md-nav__link">
    <span class="md-ellipsis">
      Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision_1" class="md-nav__link">
    <span class="md-ellipsis">
      Decision
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rationale" class="md-nav__link">
    <span class="md-ellipsis">
      Rationale
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calling_functions_with_default_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Calling functions with default parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Calling functions with default parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem_2" class="md-nav__link">
    <span class="md-ellipsis">
      Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision_2" class="md-nav__link">
    <span class="md-ellipsis">
      Decision
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rationale_1" class="md-nav__link">
    <span class="md-ellipsis">
      Rationale
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dont_repeat_non-default_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Don't repeat non-default parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Don&#39;t repeat non-default parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem_3" class="md-nav__link">
    <span class="md-ellipsis">
      Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision_3" class="md-nav__link">
    <span class="md-ellipsis">
      Decision
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rationale_2" class="md-nav__link">
    <span class="md-ellipsis">
      Rationale
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writing_clear_beautiful_code" class="md-nav__link">
    <span class="md-ellipsis">
      Writing clear beautiful code
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Writing clear beautiful code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#keep_related_code_close" class="md-nav__link">
    <span class="md-ellipsis">
      Keep related code close
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#order_functions_in_topological_order" class="md-nav__link">
    <span class="md-ellipsis">
      Order functions in topological order
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distinguish_public_and_private_functions" class="md-nav__link">
    <span class="md-ellipsis">
      Distinguish public and private functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keep_public_functions_organized_in_a_logical_order" class="md-nav__link">
    <span class="md-ellipsis">
      Keep public functions organized in a logical order
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#read_data" class="md-nav__link">
    <span class="md-ellipsis">
      Read data.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#process_data" class="md-nav__link">
    <span class="md-ellipsis">
      Process data.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#save_data" class="md-nav__link">
    <span class="md-ellipsis">
      Save data.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#do_not_make_tiny_wrappers" class="md-nav__link">
    <span class="md-ellipsis">
      Do not make tiny wrappers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regex" class="md-nav__link">
    <span class="md-ellipsis">
      Regex
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do_not_introduce_another_concept_unless_really_needed" class="md-nav__link">
    <span class="md-ellipsis">
      Do not introduce another "concept" unless really needed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_none_or_keep_one_type" class="md-nav__link">
    <span class="md-ellipsis">
      Return None or keep one type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid_wall-of-text_functions" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid wall-of-text functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writing_robust_code" class="md-nav__link">
    <span class="md-ellipsis">
      Writing robust code
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Writing robust code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dont_let_your_functions_catch_the_default-itis" class="md-nav__link">
    <span class="md-ellipsis">
      Don't let your functions catch the default-itis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explicitly_bind_default_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Explicitly bind default parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dont_hardwire_params_in_a_function_call" class="md-nav__link">
    <span class="md-ellipsis">
      Don't hardwire params in a function call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make_if-elif-else_complete" class="md-nav__link">
    <span class="md-ellipsis">
      Make if-elif-else complete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_todos_when_needed" class="md-nav__link">
    <span class="md-ellipsis">
      Add TODOs when needed
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#todogp" class="md-nav__link">
    <span class="md-ellipsis">
      TODO(gp): ...
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#todogrisha_handle_missing_tiles_cmtask_1775" class="md-nav__link">
    <span class="md-ellipsis">
      TODO(Grisha): "Handle missing tiles" CmTask #1775.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#todosergey_p1_this_can_be_implemented_in_pandas_using_a_range_generation" class="md-nav__link">
    <span class="md-ellipsis">
      TODO(Sergey): P1 This can be implemented in pandas using a range generation.
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TODO(Sergey): P1 This can be implemented in pandas using a range generation.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common_python_mistakes" class="md-nav__link">
    <span class="md-ellipsis">
      Common Python mistakes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Python mistakes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vs_is" class="md-nav__link">
    <span class="md-ellipsis">
      == vs is
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type_vs_isinstance" class="md-nav__link">
    <span class="md-ellipsis">
      type() vs isinstance()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use_helpers" class="md-nav__link">
    <span class="md-ellipsis">
      Use helpers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit_tests" class="md-nav__link">
    <span class="md-ellipsis">
      Unit tests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refactoring" class="md-nav__link">
    <span class="md-ellipsis">
      Refactoring
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Refactoring">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#when_moving_refactoring_code" class="md-nav__link">
    <span class="md-ellipsis">
      When moving / refactoring code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write_script_for_renamings" class="md-nav__link">
    <span class="md-ellipsis">
      Write script for renamings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#architectural_and_design_pattern" class="md-nav__link">
    <span class="md-ellipsis">
      Architectural and design pattern
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architectural and design pattern">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#research_quality_vs_production_quality" class="md-nav__link">
    <span class="md-ellipsis">
      Research quality vs production quality
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#always_separate_what_changes_from_what_stays_the_same" class="md-nav__link">
    <span class="md-ellipsis">
      Always separate what changes from what stays the same
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#organize_scripts_as_pipelines" class="md-nav__link">
    <span class="md-ellipsis">
      Organize scripts as pipelines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make_filename_unique" class="md-nav__link">
    <span class="md-ellipsis">
      Make filename unique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#incremental_behavior" class="md-nav__link">
    <span class="md-ellipsis">
      Incremental behavior
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_end-to-end" class="md-nav__link">
    <span class="md-ellipsis">
      Run end-to-end
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#think_about_scalability" class="md-nav__link">
    <span class="md-ellipsis">
      Think about scalability
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use_command_line_for_reproducibility" class="md-nav__link">
    <span class="md-ellipsis">
      Use command line for reproducibility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structure_the_code_in_terms_of_filters" class="md-nav__link">
    <span class="md-ellipsis">
      Structure the code in terms of filters
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code_style_for_different_languages" class="md-nav__link">
    <span class="md-ellipsis">
      Code style for different languages
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Code style for different languages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sql" class="md-nav__link">
    <span class="md-ellipsis">
      SQL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conventions_addendum" class="md-nav__link">
    <span class="md-ellipsis">
      Conventions (Addendum)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Conventions (Addendum)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#be_patient" class="md-nav__link">
    <span class="md-ellipsis">
      Be patient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#goal" class="md-nav__link">
    <span class="md-ellipsis">
      Goal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keep_the_rules_simple" class="md-nav__link">
    <span class="md-ellipsis">
      Keep the rules simple
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allow_turning_off_the_automatic_tools" class="md-nav__link">
    <span class="md-ellipsis">
      Allow turning off the automatic tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make_the_spell-checker_happy" class="md-nav__link">
    <span class="md-ellipsis">
      Make the spell-checker happy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.coding_style_guidelines.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.coding style guidelines.reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.reading_other_people_code.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.reading other people code.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.submit_code_for_review.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.submit code for review.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.type_hints.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.type hints.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Documentation meta
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Documentation meta
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation_meta/all.architecture_diagrams.explanation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.architecture diagrams.explanation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation_meta/all.diataxis.explanation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.diataxis.explanation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation_meta/all.gdocs.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.gdocs.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation_meta/all.google_technical_writing.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.google technical writing.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation_meta/all.markdown_tools.explanation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.markdown tools.explanation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation_meta/all.mkdocs_deployment.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.mkdocs deployment.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation_meta/all.plotting_in_latex.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.plotting in latex.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation_meta/all.publish_docs_blogs.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.publish docs blogs.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation_meta/all.writing_docs.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.writing docs.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    General background
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            General background
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../general_background/all.common_abbreviations.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.common abbreviations.reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../general_background/all.glossary.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.glossary.reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../general_background/all.literature_review.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.literature review.reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../general_background/all.reading_list.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.reading list.reference
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Onboarding
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Onboarding
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/all.dev_must_read_checklist.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.dev must read checklist.reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/all.development.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.development.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/all.development_documents.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.development documents.reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/all.development_setup.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.development setup.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/all.hiring_process.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.hiring process.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/all.onboarding_checklist.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.onboarding checklist.reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/all.organize_email.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.organize email.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/all.receive_crypto_payment.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.receive crypto payment.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/all.track_time_with_hubstaff.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.track time with hubstaff.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/bounty.onboarding_checklist.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bounty.onboarding checklist.reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/intern.onboarding_checklist.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intern.onboarding checklist.reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/intern.prepare_for_development.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intern.prepare for development.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/intern.running_causify_on_virtual_machine.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intern.running causify on virtual machine.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/intern.set_up_development_on_laptop.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intern.set up development on laptop.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/intern.signing_up.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intern.signing up.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.ai_review.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.ai review.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.bfg_repo_cleaner.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.bfg repo cleaner.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.blog.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.blog.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.causify_blog_platform.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.causify blog platform.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.chatgpt_api.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.chatgpt api.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.code_coverage.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.code coverage.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.code_coverage_subprocess.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.code coverage subprocess.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.code_coverage_subprocess.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.code coverage subprocess.reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.code_review_tools.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.code review tools.reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.codebase_clean_up.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.codebase clean up.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.codecov.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.codecov.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.evaluating_external_tools.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.evaluating external tools.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.explanation_template.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.explanation template
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.how_to_guide_template.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.how to guide template
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.import_check.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.import check.reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.imports_and_packages.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.imports and packages.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.integrate_repos.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.integrate repos.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.invoke_bash_print_tree.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.invoke bash print tree.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.invoke_git_branch_copy.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.invoke git branch copy.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.invoke_workflows.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.invoke workflows.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.llm_transform.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.llm transform.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.parquet.explanation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.parquet.explanation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.precommit.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.precommit.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.profiling.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.profiling.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.pycharm.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.pycharm.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.reference_template.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.reference template
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.selenium.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.selenium.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.ssh.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.ssh.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.sync_gh_projects.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.sync gh projects.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.tutorial_template.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.tutorial template
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.veracrypt.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.veracrypt.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/all.visual_studio_code.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.visual studio code.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_33" >
        
          
          <label class="md-nav__link" for="__nav_7_33" id="__nav_7_33_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Dev system
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_33_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_33">
            <span class="md-nav__icon md-icon"></span>
            Dev system
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/dev_system/all.conda_environment_obsolete.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.conda environment obsolete.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/dev_system/all.create_a_runnable_dir.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.create a runnable dir.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/dev_system/all.create_a_super_repo_with_helpers.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.create a super repo with helpers.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/dev_system/all.dealing_with_missing_dependencies.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.dealing with missing dependencies.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/dev_system/all.devops_docker.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.devops docker.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/dev_system/all.devops_docker.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.devops docker.reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/dev_system/all.devops_docker_auto_release.explanation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.devops docker auto release.explanation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/dev_system/all.docker_optimizer_container.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.docker optimizer container.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/dev_system/all.python_package_upgrade_and_troubleshooting.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.python package upgrade and troubleshooting.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/dev_system/all.replace_common_files_with_script_links.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.replace common files with script links
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/dev_system/all.runnable_repo.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.runnable repo.reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/dev_system/all.synchronize_gh_issue_labels.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.synchronize gh issue labels.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/dev_system/all.synchronize_gh_settings.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.synchronize gh settings.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/dev_system/all.transition_to_cmamp2.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.transition to cmamp2.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/dev_system/all.transition_to_repo_config_yml.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.transition to repo config yml.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_34" >
        
          
          <label class="md-nav__link" for="__nav_7_34" id="__nav_7_34_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_34_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_34">
            <span class="md-nav__icon md-icon"></span>
            Docker
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/docker/all.develop_in_helpers.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.develop in helpers.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/docker/all.dind_and_sibling_containers.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.dind and sibling containers.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/docker/all.docker.tutorial.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.docker.tutorial
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/docker/all.dockerhub.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.dockerhub.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/docker/all.dockerized_flow.explanation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.dockerized flow.explanation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_35" >
        
          
          <label class="md-nav__link" for="__nav_7_35" id="__nav_7_35_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Documentation toolchain
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_35_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_35">
            <span class="md-nav__icon md-icon"></span>
            Documentation toolchain
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/documentation_toolchain/all.extract_notebook_images.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.extract notebook images.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/documentation_toolchain/all.extract_notes.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.extract notes.reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/documentation_toolchain/all.latex_toolchain.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.latex toolchain.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/documentation_toolchain/all.notes_to_pdf.explanation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.notes to pdf.explanation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/documentation_toolchain/all.notes_toolchain.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.notes toolchain.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/documentation_toolchain/all.render_images.explanation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.render images.explanation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_36" >
        
          
          <label class="md-nav__link" for="__nav_7_36" id="__nav_7_36_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Git
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_36_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_36">
            <span class="md-nav__icon md-icon"></span>
            Git
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/git/all.git.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.git.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/git/all.git_hooks.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.git hooks.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/git/all.git_hooks.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.git hooks.reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/git/all.gitleaks.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.gitleaks.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/git/all.gitleaks.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.gitleaks.reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/git/all.integrate_helpers.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.integrate helpers.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/git/all.invite_gh_contributors.explanation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.invite gh contributors.explanation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/git/all.invite_gh_contributors.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.invite gh contributors.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_37" >
        
          
          <label class="md-nav__link" for="__nav_7_37" id="__nav_7_37_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Helpers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_37_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_37">
            <span class="md-nav__icon md-icon"></span>
            Helpers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/helpers/all.asyncio.explanation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.asyncio.explanation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/helpers/all.hcache.explanation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.hcache.explanation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/helpers/all.hcache_simple.explanation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.hcache simple.explanation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/helpers/all.hllm.explanation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.hllm.explanation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/helpers/all.hplayback.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.hplayback.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/helpers/all.qgrid.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.qgrid.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/helpers/all.str_to_df.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.str to df.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_38" >
        
          
          <label class="md-nav__link" for="__nav_7_38" id="__nav_7_38_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Linter
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_38_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_38">
            <span class="md-nav__icon md-icon"></span>
            Linter
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/linter/all.amp_fix_md_links.explanation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.amp fix md links.explanation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/linter/all.developing_linter.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.developing linter.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_39" >
        
          
          <label class="md-nav__link" for="__nav_7_39" id="__nav_7_39_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Notebooks
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_39_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_39">
            <span class="md-nav__icon md-icon"></span>
            Notebooks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/notebooks/all.add_toc_to_notebook.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.add toc to notebook.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/notebooks/all.gsheet_into_pandas.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.gsheet into pandas.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/notebooks/all.jupyter_notebook.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.jupyter notebook.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/notebooks/all.jupytext.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.jupytext.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/notebooks/all.plotting.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.plotting.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/notebooks/all.publish_notebook.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.publish notebook.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/notebooks/all.run_jupyter_notebook.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.run jupyter notebook.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_40" >
        
          
          <label class="md-nav__link" for="__nav_7_40" id="__nav_7_40_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Thin environment
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_40_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_40">
            <span class="md-nav__icon md-icon"></span>
            Thin environment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/thin_environment/all.gh_and_thin_env_requirements.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.gh and thin env requirements.reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/thin_environment/all.gh_thin_env_dependencies.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.gh thin env dependencies.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/thin_environment/all.thin_environment.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.thin environment.reference
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_41" >
        
          
          <label class="md-nav__link" for="__nav_7_41" id="__nav_7_41_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Unit test
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_41_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_41">
            <span class="md-nav__icon md-icon"></span>
            Unit test
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/unit_test/all.run_unit_tests.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.run unit tests.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/unit_test/all.write_unit_tests.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.write unit tests.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Work organization
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Work organization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/all.buildmeister.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.buildmeister.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/all.contributor_feedback.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.contributor feedback.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/all.datapull_DAGmeister.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    all.datapull DAGmeister.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/all.github_projects_process.reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.github projects process.reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/all.inframeister.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.inframeister.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/all.issue_workflow.explanation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.issue workflow.explanation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/all.organize_your_work.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.organize your work.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/all.rollout.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.rollout.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/all.scrum.explanation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.scrum.explanation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/all.team_collaboration.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.team collaboration.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/all.use_github.how_to_guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All.use github.how to guide
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#coding_style" class="md-nav__link">
    <span class="md-ellipsis">
      Coding Style
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Coding Style">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kaizenflow_-_python_style_guide" class="md-nav__link">
    <span class="md-ellipsis">
      KaizenFlow - Python Style Guide
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meta" class="md-nav__link">
    <span class="md-ellipsis">
      Meta
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disclaimer" class="md-nav__link">
    <span class="md-ellipsis">
      Disclaimer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Disclaimer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      References
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#high-level_principles" class="md-nav__link">
    <span class="md-ellipsis">
      High-Level Principles
    </span>
  </a>
  
    <nav class="md-nav" aria-label="High-Level Principles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#follow_the_dry_principle" class="md-nav__link">
    <span class="md-ellipsis">
      Follow the DRY principle
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Follow the DRY principle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the_writer_is_the_reader" class="md-nav__link">
    <span class="md-ellipsis">
      The writer is the reader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encapsulate_what_changes" class="md-nav__link">
    <span class="md-ellipsis">
      Encapsulate what changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#least_surprise_principle" class="md-nav__link">
    <span class="md-ellipsis">
      Least surprise principle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pay_the_technical_debt" class="md-nav__link">
    <span class="md-ellipsis">
      Pay the technical debt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#end-to-end_first" class="md-nav__link">
    <span class="md-ellipsis">
      End-to-end first
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit_test_everything" class="md-nav__link">
    <span class="md-ellipsis">
      Unit test everything
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dont_get_attached_to_code" class="md-nav__link">
    <span class="md-ellipsis">
      Don't get attached to code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#always_plan_before_writing_code" class="md-nav__link">
    <span class="md-ellipsis">
      Always plan before writing code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#think_hard_about_naming" class="md-nav__link">
    <span class="md-ellipsis">
      Think hard about naming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#look_for_inconsistencies" class="md-nav__link">
    <span class="md-ellipsis">
      Look for inconsistencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no_ugly_hacks" class="md-nav__link">
    <span class="md-ellipsis">
      No ugly hacks
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#our_coding_suggestions" class="md-nav__link">
    <span class="md-ellipsis">
      Our coding suggestions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Our coding suggestions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#being_careful_with_naming" class="md-nav__link">
    <span class="md-ellipsis">
      Being careful with naming
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Being careful with naming">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#follow_the_conventions" class="md-nav__link">
    <span class="md-ellipsis">
      Follow the conventions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#follow_spelling_rules" class="md-nav__link">
    <span class="md-ellipsis">
      Follow spelling rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search_good_names_avoid_bad_names" class="md-nav__link">
    <span class="md-ellipsis">
      Search good names, avoid bad names
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Search good names, avoid bad names">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general_naming_rules" class="md-nav__link">
    <span class="md-ellipsis">
      General naming rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do_not_be_stingy" class="md-nav__link">
    <span class="md-ellipsis">
      Do not be stingy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do_not_abbreviate_just_to_save_characters" class="md-nav__link">
    <span class="md-ellipsis">
      Do not abbreviate just to save characters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when_to_use_abbreviations" class="md-nav__link">
    <span class="md-ellipsis">
      When to use abbreviations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid_code_stutter" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid code stutter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comments_and_docstrings" class="md-nav__link">
    <span class="md-ellipsis">
      Comments and docstrings
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comments and docstrings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general_conventions" class="md-nav__link">
    <span class="md-ellipsis">
      General conventions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#descriptive_vs_imperative_style" class="md-nav__link">
    <span class="md-ellipsis">
      Descriptive vs imperative style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docstrings_style" class="md-nav__link">
    <span class="md-ellipsis">
      Docstrings style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#doctrings_content" class="md-nav__link">
    <span class="md-ellipsis">
      Doctrings content
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comments_style" class="md-nav__link">
    <span class="md-ellipsis">
      Comments style
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#this_comment_is_not_imperative_not_capitalized_and_has_no_period_at_the_end" class="md-nav__link">
    <span class="md-ellipsis">
      this comment is not imperative, not capitalized and has no period at the end
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make_comments_imperative_start_with_a_capital_letter_and_end_with_a_period" class="md-nav__link">
    <span class="md-ellipsis">
      Make comments imperative, start with a capital letter and end with a period.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduce_yourself" class="md-nav__link">
    <span class="md-ellipsis">
      Introduce yourself.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set_remapping_based_on_the_run_type" class="md-nav__link">
    <span class="md-ellipsis">
      Set remapping based on the run type.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#replace_empty_lines_in_code_with_comments" class="md-nav__link">
    <span class="md-ellipsis">
      Replace empty lines in code with comments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generate_a_list_of_file_paths_for_parquet_dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Generate a list of file paths for Parquet dataset.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comment_chunks_of_code" class="md-nav__link">
    <span class="md-ellipsis">
      Comment chunks of code
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create_a_dir_to_store_the_system_config" class="md-nav__link">
    <span class="md-ellipsis">
      Create a dir to store the System Config.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create_an_example_config" class="md-nav__link">
    <span class="md-ellipsis">
      Create an example Config.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#save_the_config_in_the_target_dir" class="md-nav__link">
    <span class="md-ellipsis">
      Save the Config in the target dir.
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Save the Config in the target dir.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#referring_to_an_object_in_code_comments" class="md-nav__link">
    <span class="md-ellipsis">
      Referring to an object in code comments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generate_a_list_of_file_paths_for_parquetdataset" class="md-nav__link">
    <span class="md-ellipsis">
      Generate a list of file paths for ParquetDataset.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generate_a_list_of_file_paths_for_parquet_dataset_1" class="md-nav__link">
    <span class="md-ellipsis">
      Generate a list of file paths for Parquet dataset.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the_dataframe_df_tmp_is_used_for" class="md-nav__link">
    <span class="md-ellipsis">
      The dataframe df_tmp is used for ...
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the_dataframe_df_tmp_is_used_for_1" class="md-nav__link">
    <span class="md-ellipsis">
      The dataframe df_tmp is used for ...
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The dataframe df_tmp is used for ...">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#referring_to_type_of_vars_in_code_comments" class="md-nav__link">
    <span class="md-ellipsis">
      Referring to type of vars in code comments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filter_the_list_of_llm_prompts" class="md-nav__link">
    <span class="md-ellipsis">
      Filter the list of LLM prompts.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filter_the_llm_prompts" class="md-nav__link">
    <span class="md-ellipsis">
      Filter the LLM prompts.
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Filter the LLM prompts.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#avoid_distracting_comments" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid distracting comments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#format_the_output_by_displaying_only_the_beginning_and_the_end_segments" class="md-nav__link">
    <span class="md-ellipsis">
      Format the output by displaying only the beginning and the end segments.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#format_the_output" class="md-nav__link">
    <span class="md-ellipsis">
      Format the output.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#print_results" class="md-nav__link">
    <span class="md-ellipsis">
      Print results.
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Print results.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#commenting_out_code" class="md-nav__link">
    <span class="md-ellipsis">
      Commenting out code
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is_alive_kgutilsannotate_alivemetadata_selfalive_cutoff" class="md-nav__link">
    <span class="md-ellipsis">
      is_alive = kgutils.annotate_alive(metadata, self.alive_cutoff)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#todo_as_discussed_in_ptask5047_for_now_we_set_all_timeseries_to_be_alive" class="md-nav__link">
    <span class="md-ellipsis">
      TODO(*): As discussed in PTask5047 for now we set all timeseries to be alive.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is_alive_kgutilsannotate_alivemetadata_selfalive_cutoff_1" class="md-nav__link">
    <span class="md-ellipsis">
      is_alive = kgutils.annotate_alive(metadata, self.alive_cutoff)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="is_alive = kgutils.annotate_alive(metadata, self.alive_cutoff)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use_type_hints" class="md-nav__link">
    <span class="md-ellipsis">
      Use type hints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interval_notation" class="md-nav__link">
    <span class="md-ellipsis">
      Interval notation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#if_you_find_a_bug_or_obsolete_docstringtodo_in_the_code" class="md-nav__link">
    <span class="md-ellipsis">
      If you find a bug or obsolete docstring/TODO in the code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linter" class="md-nav__link">
    <span class="md-ellipsis">
      Linter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Linter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#remove_linter_messages" class="md-nav__link">
    <span class="md-ellipsis">
      Remove Linter messages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when_to_disable_linter_messages" class="md-nav__link">
    <span class="md-ellipsis">
      When to disable Linter messages
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pylint_disablesome-messageanother-one" class="md-nav__link">
    <span class="md-ellipsis">
      pylint: disable=some-message,another-one
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pylint_disablew0611" class="md-nav__link">
    <span class="md-ellipsis">
      pylint: disable=W0611
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pylint_disableunused-import" class="md-nav__link">
    <span class="md-ellipsis">
      pylint: disable=unused-import
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#this_is_needed_when_evaluating_code_at_run-time_that_depends_from" class="md-nav__link">
    <span class="md-ellipsis">
      This is needed when evaluating code at run-time that depends from
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#this_import" class="md-nav__link">
    <span class="md-ellipsis">
      this import.
    </span>
  </a>
  
    <nav class="md-nav" aria-label="this import.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prefer_non-inlined_linter_comments" class="md-nav__link">
    <span class="md-ellipsis">
      Prefer non-inlined Linter comments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pylint_disableline-too-long" class="md-nav__link">
    <span class="md-ellipsis">
      pylint: disable=line-too-long
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pylint: disable=line-too-long">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dont_mix_real_changes_with_linter_changes" class="md-nav__link">
    <span class="md-ellipsis">
      Don't mix real changes with Linter changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging" class="md-nav__link">
    <span class="md-ellipsis">
      Logging
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Logging">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#always_use_logging_instead_of_prints" class="md-nav__link">
    <span class="md-ellipsis">
      Always use logging instead of prints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#our_logging_idiom" class="md-nav__link">
    <span class="md-ellipsis">
      Our logging idiom
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging_level" class="md-nav__link">
    <span class="md-ellipsis">
      Logging level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how_to_pick_the_level_for_a_logging_statement" class="md-nav__link">
    <span class="md-ellipsis">
      How to pick the level for a logging statement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use_positional_args_when_logging" class="md-nav__link">
    <span class="md-ellipsis">
      Use positional args when logging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions_dont_allow_positional_args" class="md-nav__link">
    <span class="md-ellipsis">
      Exceptions don't allow positional args
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#report_warnings" class="md-nav__link">
    <span class="md-ellipsis">
      Report warnings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertions" class="md-nav__link">
    <span class="md-ellipsis">
      Assertions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Assertions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validate_values_before_an_assignment" class="md-nav__link">
    <span class="md-ellipsis">
      Validate values before an assignment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encode_the_assumptions_using_assertions" class="md-nav__link">
    <span class="md-ellipsis">
      Encode the assumptions using assertions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use_positional_args_when_asserting" class="md-nav__link">
    <span class="md-ellipsis">
      Use positional args when asserting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#report_as_much_information_as_possible_in_an_assertion" class="md-nav__link">
    <span class="md-ellipsis">
      Report as much information as possible in an assertion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#imports" class="md-nav__link">
    <span class="md-ellipsis">
      Imports
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Imports">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dont_use_evil_import" class="md-nav__link">
    <span class="md-ellipsis">
      Don't use evil import *
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cleaning_up_the_evil_import" class="md-nav__link">
    <span class="md-ellipsis">
      Cleaning up the evil import *
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid_from_import" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid from ... import ...
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions_to_the_import_style" class="md-nav__link">
    <span class="md-ellipsis">
      Exceptions to the import style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#always_import_with_a_full_path_from_the_root_of_the_repo_submodule" class="md-nav__link">
    <span class="md-ellipsis">
      Always import with a full path from the root of the repo / submodule
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baptizing_module_import" class="md-nav__link">
    <span class="md-ellipsis">
      Baptizing module import
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_of_imports" class="md-nav__link">
    <span class="md-ellipsis">
      Examples of imports
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Scripts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use_python_and_not_bash_for_scripting" class="md-nav__link">
    <span class="md-ellipsis">
      Use Python and not bash for scripting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#template_for_a_script" class="md-nav__link">
    <span class="md-ellipsis">
      Template for a script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#some_useful_patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Some useful patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use_scripts_and_not_notebooks_for_long-running_jobs" class="md-nav__link">
    <span class="md-ellipsis">
      Use scripts and not notebooks for long-running jobs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#follow_the_same_structure" class="md-nav__link">
    <span class="md-ellipsis">
      Follow the same structure
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usrbinenv_python" class="md-nav__link">
    <span class="md-ellipsis">
      !/usr/bin/env python
    </span>
  </a>
  
    <nav class="md-nav" aria-label="!/usr/bin/env python">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use_clear_names_for_the_scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Use clear names for the scripts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#avoid_using_non-exclusive_bool_arguments" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid using non-exclusive bool arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#try_to_make_functions_work_on_multiple_types" class="md-nav__link">
    <span class="md-ellipsis">
      Try to make functions work on multiple types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid_hard-wired_column_name_dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid hard-wired column name dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#single_exit_point_from_a_function" class="md-nav__link">
    <span class="md-ellipsis">
      Single exit point from a function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#order_of_function_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Order of function parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Order of function parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem" class="md-nav__link">
    <span class="md-ellipsis">
      Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision" class="md-nav__link">
    <span class="md-ellipsis">
      Decision
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consistency_of_ordering_of_function_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Consistency of ordering of function parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#style_for_default_parameter" class="md-nav__link">
    <span class="md-ellipsis">
      Style for default parameter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Style for default parameter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem_1" class="md-nav__link">
    <span class="md-ellipsis">
      Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision_1" class="md-nav__link">
    <span class="md-ellipsis">
      Decision
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rationale" class="md-nav__link">
    <span class="md-ellipsis">
      Rationale
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calling_functions_with_default_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Calling functions with default parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Calling functions with default parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem_2" class="md-nav__link">
    <span class="md-ellipsis">
      Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision_2" class="md-nav__link">
    <span class="md-ellipsis">
      Decision
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rationale_1" class="md-nav__link">
    <span class="md-ellipsis">
      Rationale
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dont_repeat_non-default_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Don't repeat non-default parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Don&#39;t repeat non-default parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem_3" class="md-nav__link">
    <span class="md-ellipsis">
      Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision_3" class="md-nav__link">
    <span class="md-ellipsis">
      Decision
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rationale_2" class="md-nav__link">
    <span class="md-ellipsis">
      Rationale
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writing_clear_beautiful_code" class="md-nav__link">
    <span class="md-ellipsis">
      Writing clear beautiful code
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Writing clear beautiful code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#keep_related_code_close" class="md-nav__link">
    <span class="md-ellipsis">
      Keep related code close
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#order_functions_in_topological_order" class="md-nav__link">
    <span class="md-ellipsis">
      Order functions in topological order
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distinguish_public_and_private_functions" class="md-nav__link">
    <span class="md-ellipsis">
      Distinguish public and private functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keep_public_functions_organized_in_a_logical_order" class="md-nav__link">
    <span class="md-ellipsis">
      Keep public functions organized in a logical order
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#read_data" class="md-nav__link">
    <span class="md-ellipsis">
      Read data.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#process_data" class="md-nav__link">
    <span class="md-ellipsis">
      Process data.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#save_data" class="md-nav__link">
    <span class="md-ellipsis">
      Save data.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#do_not_make_tiny_wrappers" class="md-nav__link">
    <span class="md-ellipsis">
      Do not make tiny wrappers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regex" class="md-nav__link">
    <span class="md-ellipsis">
      Regex
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do_not_introduce_another_concept_unless_really_needed" class="md-nav__link">
    <span class="md-ellipsis">
      Do not introduce another "concept" unless really needed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_none_or_keep_one_type" class="md-nav__link">
    <span class="md-ellipsis">
      Return None or keep one type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid_wall-of-text_functions" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid wall-of-text functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writing_robust_code" class="md-nav__link">
    <span class="md-ellipsis">
      Writing robust code
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Writing robust code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dont_let_your_functions_catch_the_default-itis" class="md-nav__link">
    <span class="md-ellipsis">
      Don't let your functions catch the default-itis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explicitly_bind_default_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Explicitly bind default parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dont_hardwire_params_in_a_function_call" class="md-nav__link">
    <span class="md-ellipsis">
      Don't hardwire params in a function call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make_if-elif-else_complete" class="md-nav__link">
    <span class="md-ellipsis">
      Make if-elif-else complete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_todos_when_needed" class="md-nav__link">
    <span class="md-ellipsis">
      Add TODOs when needed
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#todogp" class="md-nav__link">
    <span class="md-ellipsis">
      TODO(gp): ...
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#todogrisha_handle_missing_tiles_cmtask_1775" class="md-nav__link">
    <span class="md-ellipsis">
      TODO(Grisha): "Handle missing tiles" CmTask #1775.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#todosergey_p1_this_can_be_implemented_in_pandas_using_a_range_generation" class="md-nav__link">
    <span class="md-ellipsis">
      TODO(Sergey): P1 This can be implemented in pandas using a range generation.
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TODO(Sergey): P1 This can be implemented in pandas using a range generation.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common_python_mistakes" class="md-nav__link">
    <span class="md-ellipsis">
      Common Python mistakes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Python mistakes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vs_is" class="md-nav__link">
    <span class="md-ellipsis">
      == vs is
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type_vs_isinstance" class="md-nav__link">
    <span class="md-ellipsis">
      type() vs isinstance()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use_helpers" class="md-nav__link">
    <span class="md-ellipsis">
      Use helpers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit_tests" class="md-nav__link">
    <span class="md-ellipsis">
      Unit tests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refactoring" class="md-nav__link">
    <span class="md-ellipsis">
      Refactoring
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Refactoring">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#when_moving_refactoring_code" class="md-nav__link">
    <span class="md-ellipsis">
      When moving / refactoring code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write_script_for_renamings" class="md-nav__link">
    <span class="md-ellipsis">
      Write script for renamings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#architectural_and_design_pattern" class="md-nav__link">
    <span class="md-ellipsis">
      Architectural and design pattern
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architectural and design pattern">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#research_quality_vs_production_quality" class="md-nav__link">
    <span class="md-ellipsis">
      Research quality vs production quality
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#always_separate_what_changes_from_what_stays_the_same" class="md-nav__link">
    <span class="md-ellipsis">
      Always separate what changes from what stays the same
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#organize_scripts_as_pipelines" class="md-nav__link">
    <span class="md-ellipsis">
      Organize scripts as pipelines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make_filename_unique" class="md-nav__link">
    <span class="md-ellipsis">
      Make filename unique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#incremental_behavior" class="md-nav__link">
    <span class="md-ellipsis">
      Incremental behavior
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_end-to-end" class="md-nav__link">
    <span class="md-ellipsis">
      Run end-to-end
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#think_about_scalability" class="md-nav__link">
    <span class="md-ellipsis">
      Think about scalability
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use_command_line_for_reproducibility" class="md-nav__link">
    <span class="md-ellipsis">
      Use command line for reproducibility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structure_the_code_in_terms_of_filters" class="md-nav__link">
    <span class="md-ellipsis">
      Structure the code in terms of filters
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code_style_for_different_languages" class="md-nav__link">
    <span class="md-ellipsis">
      Code style for different languages
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Code style for different languages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sql" class="md-nav__link">
    <span class="md-ellipsis">
      SQL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conventions_addendum" class="md-nav__link">
    <span class="md-ellipsis">
      Conventions (Addendum)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Conventions (Addendum)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#be_patient" class="md-nav__link">
    <span class="md-ellipsis">
      Be patient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#goal" class="md-nav__link">
    <span class="md-ellipsis">
      Goal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keep_the_rules_simple" class="md-nav__link">
    <span class="md-ellipsis">
      Keep the rules simple
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allow_turning_off_the_automatic_tools" class="md-nav__link">
    <span class="md-ellipsis">
      Allow turning off the automatic tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make_the_spell-checker_happy" class="md-nav__link">
    <span class="md-ellipsis">
      Make the spell-checker happy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>All.coding style.how to guide</h1>

<h2 id="coding_style">Coding Style<a class="headerlink" href="#coding_style" title="Permanent link">#</a></h2>
<h3 id="kaizenflow_-_python_style_guide">KaizenFlow - Python Style Guide<a class="headerlink" href="#kaizenflow_-_python_style_guide" title="Permanent link">#</a></h3>
<h3 id="meta">Meta<a class="headerlink" href="#meta" title="Permanent link">#</a></h3>
<ul>
<li>What we call "rules" are actually just a convention</li>
<li>The "rules"<ul>
<li>Are optimized for the common case</li>
<li>Are not the absolute best way of doing something in all possible cases</li>
<li>Can become cumbersome or weird to follow for some corner cases</li>
</ul>
</li>
<li>We prefer simple rather than optimal rules so that they can be applied in most
    of the cases, without thinking or going to check the documentation</li>
<li>The rules are striving to achieve consistency and robustness<ul>
<li>We prefer to care about consistency rather than arguing about which approach
    is better in each case</li>
<li>E.g., see the futile "tab vs space" flame-war from the 90s</li>
</ul>
</li>
<li>The rules are optimized for the average developer / data scientist and not for
    power users</li>
<li>The rules try to minimize the maintenance burden<ul>
<li>We want to minimize the propagation of a change</li>
</ul>
</li>
<li>Rules are not fixed in stone<ul>
<li>Rules evolve based on what we discuss through the reviews</li>
</ul>
</li>
</ul>
<h3 id="disclaimer">Disclaimer<a class="headerlink" href="#disclaimer" title="Permanent link">#</a></h3>
<ul>
<li>This document was forked from
    <a href="https://google.github.io/styleguide/pyguide.html">Google Python Style Guide</a>,
    therefore, the numbering of chapters sets off where the Style Guide ends. Make
    sure to familiarize yourself with it before proceeding to the rest of the doc,
    since it is the basis of our team's code style.</li>
<li>Another important source is
    <a href="https://drive.google.com/file/d/1J0YVZO12s67Jq3H5dv9utS6BjhjkHr5G/view">The Pragmatic Programmer</a>
    by David Thomas and Andrew Hunt. While not Python-specific, it provides an
    invaluable set of general principles by which any person working with code
    (software developer, DevOps or data scientist) should abide. Read it on long
    commutes, during lunch, and treat yourself to a physical copy on Christmas.
    The book is summarized
    <a href="/docs/coding/all.code_like_pragmatic_programmer.how_to_guide.md">here</a>, but
    do not deprive yourself of the engaging manner in which Thomas &amp; Hunt
    elaborate on these points -- on top of it all, it is a very, very enjoyable
    read.</li>
</ul>
<h4 id="references">References<a class="headerlink" href="#references" title="Permanent link">#</a></h4>
<ul>
<li>Coding<ul>
<li><a href="https://google.github.io/styleguide/pyguide.html">Google Python Style Guide (GPSG)</a></li>
<li><a href="https://google.github.io/styleguide/pyguide.html"></a><a href="https://www.python.org/dev/peps/pep-0008/">Code convention from PEP8</a><a href="https://www.python.org/dev/peps/pep-0008/"></a></li>
</ul>
</li>
<li><a href="https://www.python.org/dev/peps/pep-0008/"></a>Documentation<ul>
<li><a href="https://github.com/google/styleguide/blob/gh-pages/docguide/best_practices.md">Docstring convention from PEP257</a></li>
<li><a href="https://github.com/google/styleguide/blob/gh-pages/docguide/best_practices.md">Google documentation best practices</a></li>
</ul>
</li>
<li>Commenting style<ul>
<li><a href="https://www.sphinx-doc.org/en/master/">Sphinx</a></li>
</ul>
</li>
<li><a href="https://thomas-cokelaer.info/tutorials/sphinx/index.html">Sphinx tutorial</a></li>
<li>Design<ul>
<li><a href="https://github.com/google/styleguide/blob/gh-pages/docguide/philosophy.md">Google philosophical stuff</a></li>
<li><a href="https://en.wikipedia.org/wiki/Unix_philosophy#Eric_Raymond%E2%80%99s_17_Unix_Rules">Unix rules (although a bit cryptic sometimes)</a></li>
</ul>
</li>
</ul>
<h3 id="high-level_principles">High-Level Principles<a class="headerlink" href="#high-level_principles" title="Permanent link">#</a></h3>
<ul>
<li>In this paragraph we summarize the high-level principles that we follow for
    designing and implementing code and research. We should be careful in adding
    principles here. Ideally principles should be non-overlapping and generating
    all the other lower level principles we follow (like a basis for a vector
    space)</li>
</ul>
<h4 id="follow_the_dry_principle">Follow the DRY principle<a class="headerlink" href="#follow_the_dry_principle" title="Permanent link">#</a></h4>
<ul>
<li>DRY =
    <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">Don't repeat yourself</a></li>
</ul>
<h5 id="the_writer_is_the_reader">The writer is the reader<a class="headerlink" href="#the_writer_is_the_reader" title="Permanent link">#</a></h5>
<ul>
<li>Make code easy to read even if it is more difficult to write</li>
<li>Code is written 1x and read 100x</li>
<li>Remember that even if things are perfectly clear now to the person that wrote
    the code, in a couple of months the code will look foreign to whoever wrote
    the code.</li>
<li>So make your future-self's life easier by following the conventions and erring
    on the side of documenting for the reader.</li>
</ul>
<h5 id="encapsulate_what_changes">Encapsulate what changes<a class="headerlink" href="#encapsulate_what_changes" title="Permanent link">#</a></h5>
<ul>
<li>Separate what changes from what stays the same</li>
</ul>
<h5 id="least_surprise_principle"><a href="https://en.wikipedia.org/wiki/Principle_of_least_astonishment">Least surprise principle</a><a class="headerlink" href="#least_surprise_principle" title="Permanent link">#</a></h5>
<ul>
<li>Try to make sure that the reader is not surprised</li>
</ul>
<h5 id="pay_the_technical_debt">Pay the technical debt<a class="headerlink" href="#pay_the_technical_debt" title="Permanent link">#</a></h5>
<ul>
<li>Any unpaid debt is guaranteed to bite you when you don't expect it</li>
<li>Still some debt is inevitable: try to find the right trade-off</li>
</ul>
<h5 id="end-to-end_first">End-to-end first<a class="headerlink" href="#end-to-end_first" title="Permanent link">#</a></h5>
<ul>
<li>Always focus on implementing things end-to-end, then improve each block</li>
<li>Remember the analogy of building the car through the skateboard, the bike,
    etc.<ul>
<li>Compare this approach to building wheels, chassis, with a big-bang
    integration at the end</li>
</ul>
</li>
</ul>
<h5 id="unit_test_everything">Unit test everything<a class="headerlink" href="#unit_test_everything" title="Permanent link">#</a></h5>
<ul>
<li>Code that matters needs to be unit tested</li>
<li>Code that doesn't matter should not be checked in the repo</li>
<li>The logical implication is: all code checked in the repo should be unit tested</li>
</ul>
<h5 id="dont_get_attached_to_code">Don't get attached to code<a class="headerlink" href="#dont_get_attached_to_code" title="Permanent link">#</a></h5>
<ul>
<li>It's ok to delete, discard, retire code that is not useful any more</li>
<li>Don't take it personally when people suggest changes or simplification</li>
</ul>
<h5 id="always_plan_before_writing_code">Always plan before writing code<a class="headerlink" href="#always_plan_before_writing_code" title="Permanent link">#</a></h5>
<ul>
<li>File a GitHub issue</li>
<li>Think about what to do and how to do it</li>
<li>Ask for help or for a review</li>
<li>The best code is the one that we avoid to write through a clever mental
    kung-fu move</li>
</ul>
<h5 id="think_hard_about_naming">Think hard about naming<a class="headerlink" href="#think_hard_about_naming" title="Permanent link">#</a></h5>
<ul>
<li>Finding a name for a code object, notebook, is extremely difficult but very
    important to build a mental map</li>
<li>Spend the needed time on it</li>
</ul>
<h5 id="look_for_inconsistencies">Look for inconsistencies<a class="headerlink" href="#look_for_inconsistencies" title="Permanent link">#</a></h5>
<ul>
<li>Stop for a second after you have, before sending out:<ul>
<li>Implemented code or a notebook</li>
<li>Written documentation</li>
<li>Written an e-mail</li>
<li>...</li>
</ul>
</li>
<li>Reset your mind and look at everything with fresh eyes like if it was the
    first time you saw it<ul>
<li>Does everything make sense to someone that sees this for the first time?</li>
<li>Can (and should) it be improved?</li>
<li>Do you see inconsistencies, potential issues?</li>
</ul>
</li>
<li>It will take less and less time to become good at this</li>
</ul>
<h5 id="no_ugly_hacks">No ugly hacks<a class="headerlink" href="#no_ugly_hacks" title="Permanent link">#</a></h5>
<ul>
<li>We don't tolerate "ugly hacks", i.e., hacks that require lots of work to be
    undone (much more than the effort to do it right in the first place)<ul>
<li>Especially an ugly design hack, e.g., a Singleton, or some unnecessary
    dependency between distant pieces of code</li>
<li>Ugly hacks spreads everywhere in the code base</li>
</ul>
</li>
</ul>
<h3 id="our_coding_suggestions">Our coding suggestions<a class="headerlink" href="#our_coding_suggestions" title="Permanent link">#</a></h3>
<h4 id="being_careful_with_naming">Being careful with naming<a class="headerlink" href="#being_careful_with_naming" title="Permanent link">#</a></h4>
<h5 id="follow_the_conventions">Follow the conventions<a class="headerlink" href="#follow_the_conventions" title="Permanent link">#</a></h5>
<ul>
<li>Name executable files (scripts) and library functions using verbs (e.g.,
    <code>download.py</code>, <code>download_data()</code>)</li>
<li>Name classes and (non-executable) files using nouns (e.g., <code>Downloader()</code>,
    <code>downloader.py</code>)</li>
<li>For decorators we don't use a verb as we do for normal functions, but rather
    an adjective or a past tense verb, e.g.,
    <code>python
def timed(f):
        """
        Add a timer decorator around a specified function.
        """
        ...</code></li>
</ul>
<h5 id="follow_spelling_rules">Follow spelling rules<a class="headerlink" href="#follow_spelling_rules" title="Permanent link">#</a></h5>
<ul>
<li>We spell commands in lower-case, and programs with initial upper case:<ul>
<li>"Git" (as program), "git" (as the command)</li>
</ul>
</li>
<li>We distinguish "research" (not "default", "base") vs "production"</li>
<li>We use different names for indicating the same concept, e.g., <code>dir</code>, <code>path</code>,
    <code>folder</code><ul>
<li>Preferred term is <code>dir</code></li>
</ul>
</li>
<li>Name of columns<ul>
<li>The name of columns should be <code>..._col</code> and not <code>..._col_name</code> or <code>_column</code></li>
</ul>
</li>
<li>Timestamp<ul>
<li>We spell <code>timestamp</code>, we do not abbreviate it as <code>ts</code></li>
<li>We prefer timestamp to <code>datetime</code><ul>
<li>E.g., <code>start_timestamp</code> instead of <code>start_datetime</code></li>
</ul>
</li>
</ul>
</li>
<li>Abbreviations<ul>
<li>JSON, CSV, DB, etc., are abbreviations and thus should be capitalized in
    comments and docstrings, and treated as abbreviations in code when it
    doesn't conflict with other rules<ul>
<li>E.g., <code>convert_to_CSV</code>, but <code>csv_file_name</code> as a variable name that is not
    global</li>
</ul>
</li>
<li>Profit-and-loss: PnL instead of pnl or PNL</li>
</ul>
</li>
</ul>
<h5 id="search_good_names_avoid_bad_names">Search good names, avoid bad names<a class="headerlink" href="#search_good_names_avoid_bad_names" title="Permanent link">#</a></h5>
<h6 id="general_naming_rules">General naming rules<a class="headerlink" href="#general_naming_rules" title="Permanent link">#</a></h6>
<ul>
<li>Naming things properly is one of the most difficult task of a programmer /
    data scientist<ul>
<li>The name needs to be (possibly) short and memorable<ul>
<li>However, don't be afraid to use long names, if needed, e.g.,
    <code>process_text_with_full_pipeline_twitter_v1</code></li>
<li>Clarity is more important than number of bytes used</li>
</ul>
</li>
<li>The name should capture what the object represents, without reference to
    things that can change or to details that are not important</li>
<li>The name should refer to what objects do (i.e., mechanisms), rather than how
    we use them (i.e., policies)</li>
<li>The name needs to be non-controversial: people need to be able to map the
    name in their mental model</li>
<li>The name needs to sound good in English<ul>
<li><em>Bad</em>: <code>AdapterSequential</code> sounds bad</li>
<li><em>Good</em>: <code>SequentialAdapter</code> sounds good</li>
</ul>
</li>
</ul>
</li>
<li>Some examples of how NOT to do naming:<ul>
<li><code>raw_df</code> is a terrible name<ul>
<li>"raw" with respect to what?</li>
<li>Cooked?</li>
<li>Read-After-Write race condition?</li>
</ul>
</li>
<li><code>person_dict</code> is bad<ul>
<li>What if we switch from a dictionary to an object?<ul>
<li>Then we need to change the name everywhere!</li>
</ul>
</li>
<li>The name should capture what the data structure represents (its semantics)
    and not how it is implemented</li>
</ul>
</li>
</ul>
</li>
</ul>
<h6 id="do_not_be_stingy">Do not be stingy<a class="headerlink" href="#do_not_be_stingy" title="Permanent link">#</a></h6>
<ul>
<li>Why calling an object <code>TimeSeriesMinStudy</code> instead of <code>TimeSeriesMinuteStudy</code>?<ul>
<li>Saving 3 letters is not worth</li>
<li>The reader might interpret <code>Min</code> as <code>Minimal</code> (or <code>Miniature</code>, <code>Minnie</code>,
    <code>Minotaur</code>)</li>
</ul>
</li>
<li>If you don't like to type, we suggest you get a better keyboard, e.g.,
    <a href="https://kinesis-ergo.com/shop/advantage2/">this</a></li>
</ul>
<h6 id="do_not_abbreviate_just_to_save_characters">Do not abbreviate just to save characters<a class="headerlink" href="#do_not_abbreviate_just_to_save_characters" title="Permanent link">#</a></h6>
<ul>
<li>Abbreviations just to save space are rarely beneficial to the reader. E.g.,<ul>
<li>Fwd (forward)</li>
<li>Bwd (backward)</li>
<li>Act (actual)</li>
<li>Exp (expected)</li>
</ul>
</li>
</ul>
<h6 id="when_to_use_abbreviations">When to use abbreviations<a class="headerlink" href="#when_to_use_abbreviations" title="Permanent link">#</a></h6>
<ul>
<li>We could relax this rule for short lived functions and variables in order to
    save some visual noise.</li>
<li>Sometimes an abbreviation is so short and common that it's ok to leave it
    E.g.,<ul>
<li>Df (dataframe)</li>
<li>Srs (series)</li>
<li>Idx (index)</li>
<li>Id (identifier)</li>
<li>Val (value)</li>
<li>Var (variable)</li>
<li>Args (arguments)</li>
<li>Kwargs (keyword arguments)</li>
<li>Col (column)</li>
<li>Vol (volatility) while volume is always spelled out</li>
</ul>
</li>
</ul>
<h5 id="avoid_code_stutter">Avoid code stutter<a class="headerlink" href="#avoid_code_stutter" title="Permanent link">#</a></h5>
<ul>
<li>An example of code stutter: you want to add a function that returns <code>git</code> root
    path in a module <code>git</code></li>
<li><em>Bad</em><ul>
<li>
<p>Name is <code>get_git_root_path()</code></p>
<p>```python
import helpers.hgit as hgit</p>
</li>
</ul>
</li>
</ul>
<p>... hgit.get_git_root_path()
        ```
    - You see that the module is already specifying we are talking about Git</p>
<ul>
<li><em>Good</em><ul>
<li>
<p>Name is <code>get_root_path()</code></p>
<p>```python
import helpers.hgit as hgit</p>
</li>
</ul>
</li>
</ul>
<p>... hgit.get_root_path()
        ```
    - This is not only aesthetic reason but a bit related to a weak form of DRY</p>
<h4 id="comments_and_docstrings">Comments and docstrings<a class="headerlink" href="#comments_and_docstrings" title="Permanent link">#</a></h4>
<h5 id="general_conventions">General conventions<a class="headerlink" href="#general_conventions" title="Permanent link">#</a></h5>
<ul>
<li>Code needs to be properly commented</li>
<li>We follow Python standard <a href="https://www.python.org/dev/peps/pep-0257/">PEP 257</a>
    for commenting<ul>
<li>PEP 257 standardizes what comments should express and how they should do it
    (e.g., use triple quotes for commenting a function), but does not specify
    what markup syntax should be used to describe comments</li>
</ul>
</li>
<li>Different conventions have been developed for documenting interfaces<ul>
<li>ReST</li>
<li>Google (which is cross-language, e.g., C++, Python, ...)</li>
<li>Epytext</li>
<li>Numpydoc</li>
</ul>
</li>
</ul>
<h5 id="descriptive_vs_imperative_style">Descriptive vs imperative style<a class="headerlink" href="#descriptive_vs_imperative_style" title="Permanent link">#</a></h5>
<ul>
<li>We decided to use imperative style for our comments and docstrings<ul>
<li>Pylint and other Python QA tools favor an imperative style</li>
<li>From <a href="https://www.python.org/dev/peps/pep-0257/">PEP 257</a>
    <code>The docstring is a phrase ending in a period. It prescribes the function or
    method's effect as a command ("Do this", "Return that"), not as a description;
    e.g. don't write "Returns the pathname ...".</code></li>
</ul>
</li>
</ul>
<h5 id="docstrings_style">Docstrings style<a class="headerlink" href="#docstrings_style" title="Permanent link">#</a></h5>
<ul>
<li>We follow ReST (aka re-Structured Text) style for docstrings which is:<ul>
<li>The most widely supported in the Python community</li>
<li>Supported by all doc generation tools (e.g., epydoc, sphinx)</li>
<li>Default in Pycharm</li>
<li>Default in <code>pyment</code></li>
<li>Supported by <code>pydocstyle</code> (which does not support Google style as explained
    <a href="https://github.com/PyCQA/pydocstyle/issues/275">here</a>)</li>
</ul>
</li>
<li>
<p>Example of a function definition with ReST styled docstring:</p>
<p>```python
def my_function(param1: str) -&gt; str:
    """
    A one-line description of what the function does.</p>
<pre><code>A longer description (possibly on multiple lines) with a more detailed
explanation of what the function does, trying to not be redundant with
the parameter / return description below. The focus is on the interface
and what the user should know to use the function and not how the
function is implemented.

:param param1: this is the first param
:return: this is a description of what is returned
"""
</code></pre>
<p><code>``
- We use lowercase after</code>:param XYZ: ...<code>/</code>:return:` unless the first word is
    a proper noun
- First docstring line must be a single line
- A full ReST docstring styling also requires to specify params and return
    types, however type hinting makes it redundant so you should use only type
    hinting</p>
</li>
<li>
<p>Put docstrings in triple quotation marks</p>
<ul>
<li><em>Bad</em>
    <code>python
Generate "random returns".</code></li>
<li><em>Good</em>
    <code>python
"""
Generate "random returns".
"""</code></li>
</ul>
</li>
<li>Sometimes functions are small enough so we just use a 1-liner docstring
    without detailed params and return descriptions. Just do not put text and
    docstring brackets in one line<ul>
<li><em>Bad</em>
    <code>python
"""This is not our approach."""</code></li>
<li><em>Good</em>
    <code>python
"""
This is our approach.
"""</code></li>
</ul>
</li>
<li>Follow this example for indentation of param/return descriptions:<ul>
<li><em>Good</em>
    ```python
"""
:param param1: a very very long param description that
    continues into a second line
:param param2: a param with two possible values<ul>
<li>first value description</li>
<li>second value description that is very long and
    continues into a second line
"""
```</li>
</ul>
</li>
</ul>
</li>
<li><a href="https://stackoverflow.com/questions/3898572">More examples of and discussions on Python docstrings</a></li>
</ul>
<h5 id="doctrings_content">Doctrings content<a class="headerlink" href="#doctrings_content" title="Permanent link">#</a></h5>
<ul>
<li>
<p>The docstring should focus on the "what" (the goal of the code) and not the
    "how" (the implementation)</p>
</li>
<li>
<p>The docstring should not be a line-by-line "translation" of code into text</p>
<ul>
<li>People can look at the code if they want to know the details of the
    implementation</li>
<li>We don't want to create a maintainability burden where the docstring should
    change with every update in the implementation</li>
</ul>
</li>
<li>
<p>We encourage adding examples (e.g., of input and output) to the docstring to
    improve clarity</p>
</li>
<li>
<p>Type of variables should not be mentioned in <code>:param:</code>/<code>:return:</code> descriptions</p>
<ul>
<li>E.g., do not do <code>:return: a list of messages</code>, do <code>:return: messages</code></li>
<li>Types should already be evident (from the type hinting)</li>
<li>We don't want to have to change all the docstrings if we change the
    implementation (e.g., turn a list into a set)</li>
</ul>
</li>
<li>
<p>Default values of parameters should not be mentioned in <code>:param:</code> descriptions
    for the same reasons as above</p>
</li>
</ul>
<h5 id="comments_style">Comments style<a class="headerlink" href="#comments_style" title="Permanent link">#</a></h5>
<ul>
<li>Comments follow the same style of docstrings, e.g., imperative style, start
    with a capital letter, with period <code>.</code> at the end<ul>
<li><em>Bad</em>
    ```python</li>
</ul>
</li>
</ul>
<h2 id="this_comment_is_not_imperative_not_capitalized_and_has_no_period_at_the_end">this comment is not imperative, not capitalized and has no period at the end<a class="headerlink" href="#this_comment_is_not_imperative_not_capitalized_and_has_no_period_at_the_end" title="Permanent link">#</a></h2>
<pre><code>    ```
- _Good_
    ```python
</code></pre>
<h2 id="make_comments_imperative_start_with_a_capital_letter_and_end_with_a_period">Make comments imperative, start with a capital letter and end with a period.<a class="headerlink" href="#make_comments_imperative_start_with_a_capital_letter_and_end_with_a_period" title="Permanent link">#</a></h2>
<pre><code>    ```
</code></pre>
<ul>
<li>Always place comments above the lines that they are referring to. Avoid
    writing comments on the same line as code since they require extra maintenance
    (e.g., when the line becomes too long)<ul>
<li><em>Bad</em>
    <code>python
print("hello world")      # Introduce yourself.</code></li>
<li><em>Good</em>
    ```python</li>
</ul>
</li>
</ul>
<h2 id="introduce_yourself">Introduce yourself.<a class="headerlink" href="#introduce_yourself" title="Permanent link">#</a></h2>
<p>print("hello world")
        <code>- The only exception is commenting `if-elif-else` statements: we comment them
    underneath the each statement in order to explain the code that belongs to the
    each statement particularly
    - _Bad_</code>python</p>
<h2 id="set_remapping_based_on_the_run_type">Set remapping based on the run type.<a class="headerlink" href="#set_remapping_based_on_the_run_type" title="Permanent link">#</a></h2>
<p>if is_prod:
        ...
else:
        ...
        <code>- _Good_</code>python</p>
<h2 id="_1"><a class="headerlink" href="#_1" title="Permanent link">#</a></h2>
<p>if is_prod:
        # Set remapping for database data used in production.
        ...
else:
        # Set remapping for file system data used in simulation.
        ...
        <code>``
        - If you want to separate an</code>if` statement from a bunch of code preceding
            it, you can leave an empty comment before it</p>
<h5 id="replace_empty_lines_in_code_with_comments">Replace empty lines in code with comments<a class="headerlink" href="#replace_empty_lines_in_code_with_comments" title="Permanent link">#</a></h5>
<ul>
<li>
<p>The problem with empty lines is that they are visually confusing since one
    empty line is used also to separate functions. For this reason we suggest
    using a comment</p>
</li>
<li>
<p>If you feel that you need an empty line in the code, it probably means that a
    specific chunk of code is a logical piece of code performing a cohesive
    function</p>
<p>```python
...
end_y = end_dt.year</p>
</li>
</ul>
<p>paths = list()
...
    ```</p>
<ul>
<li>Instead of putting an empty line, you should put a comment describing at high
    level what the code does.
    ```python
...
end_y = end_dt.year</li>
</ul>
<h2 id="generate_a_list_of_file_paths_for_parquet_dataset">Generate a list of file paths for Parquet dataset.<a class="headerlink" href="#generate_a_list_of_file_paths_for_parquet_dataset" title="Permanent link">#</a></h2>
<p>paths = list()
...
    <code>- A less optimal solution is to add an empty comment, but this is not great:</code>python
...
end_y = end_dt.year</p>
<h2 id="_2"><a class="headerlink" href="#_2" title="Permanent link">#</a></h2>
<p>paths = list()
...
    ```</p>
<h5 id="comment_chunks_of_code">Comment chunks of code<a class="headerlink" href="#comment_chunks_of_code" title="Permanent link">#</a></h5>
<ul>
<li>
<p>Avoid wall-of-code, by commenting chunks of code that perform a cohesive work</p>
</li>
<li>
<p><em>Bad</em></p>
<p><code>python
system_log_dir = rsiprrec.get_system_log_dir(mode)
prod_dir = os.path.join(target_dir, system_log_dir)
hio.create_dir(prod_dir, incremental=True)
config_dict = {
    "dag_runner_config": {
            "wake_up_timestamp": "2023-11-13 08:09:00-05:00",
            "rt_timeout_in_secs_or_time": 86400,
            "bar_duration_in_secs": 300,
    },
}
config = cconfig.Config.from_dict(config_dict)
config_tag = "system_config.output"
config.save_to_file(prod_dir, config_tag)</code></p>
</li>
<li>
<p>The code above has obviously various chunks that can be described with
    comments
    <code># Create a dir to store the System Config.
    ...
    # Create an example Config.
    ...
    # Save the Config in the target dir.</code></p>
</li>
<li>
<p><em>Good</em></p>
<p>```python</p>
<h2 id="create_a_dir_to_store_the_system_config">Create a dir to store the System Config.<a class="headerlink" href="#create_a_dir_to_store_the_system_config" title="Permanent link">#</a></h2>
<p>system_log_dir = rsiprrec.get_system_log_dir(mode)
prod_dir = os.path.join(target_dir, system_log_dir)
hio.create_dir(prod_dir, incremental=True)</p>
<h2 id="create_an_example_config">Create an example Config.<a class="headerlink" href="#create_an_example_config" title="Permanent link">#</a></h2>
<p>config_dict = {
    "dag_runner_config": {
            "wake_up_timestamp": "2023-11-13 08:09:00-05:00",
            "rt_timeout_in_secs_or_time": 86400,
            "bar_duration_in_secs": 300,
    },
}
config = cconfig.Config.from_dict(config_dict)
config_tag = "system_config.output"</p>
<h2 id="save_the_config_in_the_target_dir">Save the Config in the target dir.<a class="headerlink" href="#save_the_config_in_the_target_dir" title="Permanent link">#</a></h2>
<p>config.save_to_file(prod_dir, config_tag)
```</p>
</li>
</ul>
<h5 id="referring_to_an_object_in_code_comments">Referring to an object in code comments<a class="headerlink" href="#referring_to_an_object_in_code_comments" title="Permanent link">#</a></h5>
<ul>
<li>In general, <strong>avoid</strong> this whenever possible</li>
<li>Code object names (e.g., function, class, params) are often subject to change,
    so we need to take care of them everywhere. It is very hard to track all of
    them in comments so replace the names with their actual meaning<ul>
<li><em>Bad</em>
    ```python</li>
</ul>
</li>
</ul>
<h2 id="generate_a_list_of_file_paths_for_parquetdataset">Generate a list of file paths for <code>ParquetDataset</code>.<a class="headerlink" href="#generate_a_list_of_file_paths_for_parquetdataset" title="Permanent link">#</a></h2>
<pre><code>    ```
- _Good_
    ```python
</code></pre>
<h2 id="generate_a_list_of_file_paths_for_parquet_dataset_1">Generate a list of file paths for Parquet dataset.<a class="headerlink" href="#generate_a_list_of_file_paths_for_parquet_dataset_1" title="Permanent link">#</a></h2>
<pre><code>    ```
</code></pre>
<ul>
<li>However, sometimes it is necessary. In this case refer to objects in the code
    using Markdown. This is useful for distinguishing the object code from the
    real-life object<ul>
<li><em>Bad</em>
    ```python</li>
</ul>
</li>
</ul>
<h2 id="the_dataframe_df_tmp_is_used_for">The dataframe df_tmp is used for ...<a class="headerlink" href="#the_dataframe_df_tmp_is_used_for" title="Permanent link">#</a></h2>
<pre><code>    ```
- _Good_
    ```python
</code></pre>
<h2 id="the_dataframe_df_tmp_is_used_for_1">The dataframe <code>df_tmp</code> is used for ...<a class="headerlink" href="#the_dataframe_df_tmp_is_used_for_1" title="Permanent link">#</a></h2>
<pre><code>    ```
</code></pre>
<h5 id="referring_to_type_of_vars_in_code_comments">Referring to type of vars in code comments<a class="headerlink" href="#referring_to_type_of_vars_in_code_comments" title="Permanent link">#</a></h5>
<ul>
<li>Similarly, and for the same reason, avoid referring to the type of a variable
    in the comments<ul>
<li><em>Bad</em>
    ```python</li>
</ul>
</li>
</ul>
<h2 id="filter_the_list_of_llm_prompts">Filter the list of LLM prompts.<a class="headerlink" href="#filter_the_list_of_llm_prompts" title="Permanent link">#</a></h2>
<pre><code>    ```
- _Good_
    ```python
</code></pre>
<h2 id="filter_the_llm_prompts">Filter the LLM prompts.<a class="headerlink" href="#filter_the_llm_prompts" title="Permanent link">#</a></h2>
<pre><code>    ```
</code></pre>
<h5 id="avoid_distracting_comments">Avoid distracting comments<a class="headerlink" href="#avoid_distracting_comments" title="Permanent link">#</a></h5>
<ul>
<li>Use comments to explain the high level logic / goal of a piece of code and not
    the implementation details ("what" and not "how")<ul>
<li><em>Bad</em>
    ```python</li>
</ul>
</li>
</ul>
<h2 id="format_the_output_by_displaying_only_the_beginning_and_the_end_segments">Format the output by displaying only the beginning and the end segments.<a class="headerlink" href="#format_the_output_by_displaying_only_the_beginning_and_the_end_segments" title="Permanent link">#</a></h2>
<pre><code>    ```
- _Good_
    ```python
</code></pre>
<h2 id="format_the_output">Format the output.<a class="headerlink" href="#format_the_output" title="Permanent link">#</a></h2>
<pre><code>    ```
</code></pre>
<ul>
<li>Do not comment things that are obvious<ul>
<li><em>Bad</em>
    ```python</li>
</ul>
</li>
</ul>
<h2 id="print_results">Print results.<a class="headerlink" href="#print_results" title="Permanent link">#</a></h2>
<p>_LOG.info("Results are %s", ...)
        ```</p>
<h5 id="commenting_out_code">Commenting out code<a class="headerlink" href="#commenting_out_code" title="Permanent link">#</a></h5>
<ul>
<li>When we comment out code, we should explain why it is no longer relevant<ul>
<li><em>Bad</em>
    ```python
is_alive = pd.Series(True, index=metadata.index)</li>
</ul>
</li>
</ul>
<h2 id="is_alive_kgutilsannotate_alivemetadata_selfalive_cutoff">is_alive = kgutils.annotate_alive(metadata, self.alive_cutoff)<a class="headerlink" href="#is_alive_kgutilsannotate_alivemetadata_selfalive_cutoff" title="Permanent link">#</a></h2>
<pre><code>    ```
- _Good_
    ```python
</code></pre>
<h2 id="todo_as_discussed_in_ptask5047_for_now_we_set_all_timeseries_to_be_alive">TODO(*): As discussed in PTask5047 for now we set all timeseries to be alive.<a class="headerlink" href="#todo_as_discussed_in_ptask5047_for_now_we_set_all_timeseries_to_be_alive" title="Permanent link">#</a></h2>
<h2 id="is_alive_kgutilsannotate_alivemetadata_selfalive_cutoff_1">is_alive = kgutils.annotate_alive(metadata, self.alive_cutoff)<a class="headerlink" href="#is_alive_kgutilsannotate_alivemetadata_selfalive_cutoff_1" title="Permanent link">#</a></h2>
<p>is_alive = pd.Series(True, index=metadata.index)
        ```</p>
<h5 id="use_type_hints">Use type hints<a class="headerlink" href="#use_type_hints" title="Permanent link">#</a></h5>
<ul>
<li>We expect new code to use type hints whenever possible<ul>
<li>See <a href="https://www.python.org/dev/peps/pep-0484/">PEP 484</a></li>
<li><a href="https://mypy.readthedocs.io/en/latest/cheat_sheet_py3.html">Type hints cheat sheet</a></li>
</ul>
</li>
<li>At some point we will start adding type hints to old code</li>
<li>We use <code>mypy</code> to check for type mistakes and to enforce type hints as part of
    the <a href="#linter">Linter</a> flow</li>
</ul>
<h5 id="interval_notation">Interval notation<a class="headerlink" href="#interval_notation" title="Permanent link">#</a></h5>
<ul>
<li>Intervals are represented with <code>[a, b), (a, b], (a, b), [a, b]</code></li>
<li>We don't use the other style <code>[a, b[</code></li>
</ul>
<h5 id="if_you_find_a_bug_or_obsolete_docstringtodo_in_the_code">If you find a bug or obsolete docstring/TODO in the code<a class="headerlink" href="#if_you_find_a_bug_or_obsolete_docstringtodo_in_the_code" title="Permanent link">#</a></h5>
<ul>
<li>The process is:<ul>
<li>Do a <code>git blame</code> to find who wrote the code</li>
<li>If it's an easy bug, you can fix it and ask for a review from the author</li>
<li>You can comment on a PR (if there is one)</li>
<li>You can file a bug on Github with<ul>
<li>Clear info on the problem</li>
<li>How to reproduce it, ideally a unit test</li>
<li>Stacktrace</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="linter">Linter<a class="headerlink" href="#linter" title="Permanent link">#</a></h4>
<ul>
<li>Linter is in charge of reformatting the code according to our conventions and
    reporting potential problems</li>
<li>You can find instructions on how to run Linter
    <a href="/docs/coding/all.submit_code_for_review.how_to_guide.md#run-linter">here</a></li>
</ul>
<h5 id="remove_linter_messages">Remove Linter messages<a class="headerlink" href="#remove_linter_messages" title="Permanent link">#</a></h5>
<ul>
<li>When Linter reports a problem:<ul>
<li>We assume that Linter messages are correct, until it is proven wrong</li>
<li>We try to understand what is the rationale for Linter's complaints</li>
<li>We then change the code to follow Linter's suggestions and remove the lint</li>
</ul>
</li>
<li>If you think a message is too pedantic, please file a bug with the example and
    as a team we will consider whether to exclude that message from our list of
    Linter suggestions</li>
<li>If you think the message is a false positive, then try to change the code to
    make Linter happy<ul>
<li>E.g., if the code depends on some run-time behavior that Linter can't infer,
    then you should question whether that behavior is really needed</li>
<li>A human reader would probably be as confused as Linter is</li>
</ul>
</li>
</ul>
<h5 id="when_to_disable_linter_messages">When to disable Linter messages<a class="headerlink" href="#when_to_disable_linter_messages" title="Permanent link">#</a></h5>
<ul>
<li>If you really believe you should override Linter in this particular case, then
    use something like:
    ```python</li>
</ul>
<h2 id="pylint_disablesome-messageanother-one">pylint: disable=some-message,another-one<a class="headerlink" href="#pylint_disablesome-messageanother-one" title="Permanent link">#</a></h2>
<pre><code>```
- You then need to explain in a comment why you are overriding Linter.
- Don't use Linter code numbers, but the
    [symbolic name](https://github.com/josherickson/pylint-symbolic-names)
    whenever possible:
    - _Bad_
        ```python
</code></pre>
<h2 id="pylint_disablew0611">pylint: disable=W0611<a class="headerlink" href="#pylint_disablew0611" title="Permanent link">#</a></h2>
<p>import config.logging_settings
            <code>- _Good_</code>python</p>
<h2 id="pylint_disableunused-import">pylint: disable=unused-import<a class="headerlink" href="#pylint_disableunused-import" title="Permanent link">#</a></h2>
<h2 id="this_is_needed_when_evaluating_code_at_run-time_that_depends_from">This is needed when evaluating code at run-time that depends from<a class="headerlink" href="#this_is_needed_when_evaluating_code_at_run-time_that_depends_from" title="Permanent link">#</a></h2>
<h2 id="this_import">this import.<a class="headerlink" href="#this_import" title="Permanent link">#</a></h2>
<p>import config.logging_settings
            ```</p>
<h5 id="prefer_non-inlined_linter_comments">Prefer non-inlined Linter comments<a class="headerlink" href="#prefer_non-inlined_linter_comments" title="Permanent link">#</a></h5>
<ul>
<li>As for the general comments, we prefer to make Linter comments non-inlined</li>
<li>However, sometimes there is no other choice than an inlined comment to get
    Linter to understand which line we are referring to, so in rare cases it is
    OK:<ul>
<li><em>Bad</em> but ok if needed
    <code>python
import config.logging_settings  # pylint: disable=unused-import</code></li>
<li><em>Good</em>
    ```python</li>
</ul>
</li>
</ul>
<h2 id="pylint_disableline-too-long">pylint: disable=line-too-long<a class="headerlink" href="#pylint_disableline-too-long" title="Permanent link">#</a></h2>
<pre><code>expected_df_as_str = """# df=
                                                        asset_id   last_price            start_datetime              timestamp_db
end_datetime
2000-01-01 09:31:00-05:00      1000   999.874540 2000-01-01 09:30:00-05:00 2000-01-01 09:31:00-05:00
2000-01-01 09:32:00-05:00      1000  1000.325254 2000-01-01 09:31:00-05:00 2000-01-01 09:32:00-05:00
2000-01-01 09:33:00-05:00      1000  1000.557248 2000-01-01 09:32:00-05:00 2000-01-01 09:33:00-05:00"""
# pylint: enable=line-too-long
    ```
</code></pre>
<h5 id="dont_mix_real_changes_with_linter_changes">Don't mix real changes with Linter changes<a class="headerlink" href="#dont_mix_real_changes_with_linter_changes" title="Permanent link">#</a></h5>
<ul>
<li>We don't commit changes that modify the code together with Linter
    reformatting, unless linting is applied to the changes we just made<ul>
<li>The reason for not mixing real and Linter changes is that for a PR or to
    just read the code it is difficult to understand what really changed vs what
    was just a cosmetic modification</li>
</ul>
</li>
<li>If you are worried Linter might change your code in a way you don't like,
    e.g.,<ul>
<li>Screwing up some formatting you care about for some reason, or</li>
<li>Suggesting changes that you are worried might introduce bugs you can commit
    your code and then do a "lint commit" with a message "CMTaskXYZ: Lint"</li>
<li>In this way you have a backup state that you can rollback to, if you want</li>
</ul>
</li>
<li>If you run Linter and see that it is reformatting / modifying pieces of code
    you didn't change, it means that our teammate forgot to lint their code<ul>
<li><code>git blame</code> can figure out the culprit</li>
<li>You can send him / her a ping to remind her to lint, so you don't have to
    clean after him / her</li>
<li>In this case, the suggested approach is:<ul>
<li>Commit your change to a branch / stash</li>
<li>Run Linter by itself on the files that need to be cleaned, without any
    change</li>
<li>Run the unit tests to make sure nothing is breaking</li>
<li>You can fix lints or just do formatting: it's up to you</li>
<li>You can make this change directly on <code>master</code> or do a PR if you want to be
    extra sure: your call</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="logging">Logging<a class="headerlink" href="#logging" title="Permanent link">#</a></h4>
<h5 id="always_use_logging_instead_of_prints">Always use logging instead of prints<a class="headerlink" href="#always_use_logging_instead_of_prints" title="Permanent link">#</a></h5>
<ul>
<li>Always use <code>logging</code> and never <code>print()</code> to monitor the execution</li>
</ul>
<h5 id="our_logging_idiom">Our logging idiom<a class="headerlink" href="#our_logging_idiom" title="Permanent link">#</a></h5>
<ul>
<li>
<p>In order to use our logging framework (e.g., <code>-v</code> from command lines, and much
    more) use:</p>
<p>```python
import helpers.hdbg as hdbg</p>
</li>
</ul>
<p>_LOG = logging.getLogger(<strong>name</strong>)</p>
<p>hdbg.init_logger(verbosity=logging.DEBUG)</p>
<p>_LOG.debug("I am a debug function about %s", a)
    ```</p>
<ul>
<li>In this way one can decide how much debug info is needed (see Unix rule of
    silence)<ul>
<li>E.g., when there is a bug one can run with <code>-v DEBUG</code> and see what's
    happening right before the bug</li>
</ul>
</li>
</ul>
<h5 id="logging_level">Logging level<a class="headerlink" href="#logging_level" title="Permanent link">#</a></h5>
<ul>
<li>Use <code>_LOG.warning</code> for messages to the final user related to something
    unexpected where the code is making a decision that might be controversial<ul>
<li>E.g., processing a dir that is supposed to contain only <code>.csv</code> files the
    code finds a non-<code>.csv</code> file and decides to skip it, instead of breaking</li>
</ul>
</li>
<li>Use <code>_LOG.info</code> to communicate to the final user, e.g.,<ul>
<li>When the script is started</li>
<li>Where the script is saving its results</li>
<li>A progress bar indicating the amount of work completed</li>
</ul>
</li>
<li>Use <code>_LOG.debug</code> to communicate information related to the internal behavior
    of code<ul>
<li>Do not pollute the output with information a regular user does not care
    about</li>
</ul>
</li>
<li>Make sure the script prints when the work is terminated, e.g., "DONE" or
    "Results written to ..."<ul>
<li>This is useful to indicate that the script did not die in the middle:
    sometimes this happens silently and it is reported only from the OS return
    code</li>
</ul>
</li>
</ul>
<h5 id="how_to_pick_the_level_for_a_logging_statement">How to pick the level for a logging statement<a class="headerlink" href="#how_to_pick_the_level_for_a_logging_statement" title="Permanent link">#</a></h5>
<ul>
<li>If all the debug info was printed at <code>INFO</code> level, the output will be too slow
    by default</li>
<li>So we separate what needs to be always printed (i.e., <code>INFO</code>) and what is
    needed only if there is a problem to debug (i.e., <code>DEBUG</code>)<ul>
<li>Only who writes the code should decide what is <code>DEBUG</code>, since they know what
    is needed to debug</li>
<li>In fact many loggers use multiple levels of debugging level depending of how
    much detailed debugging info are needed</li>
</ul>
</li>
<li><code>logging</code> has ways to enable logging on a per module basis<ul>
<li>So in prod mode you need to know which part you want to debug, since
    printing everything at <code>INFO</code> level is not possible</li>
</ul>
</li>
</ul>
<h5 id="use_positional_args_when_logging">Use positional args when logging<a class="headerlink" href="#use_positional_args_when_logging" title="Permanent link">#</a></h5>
<ul>
<li><em>Bad</em>
    <code>python
_LOG.debug("cmd=%s %s %s" % (cmd1, cmd2, cmd3))
_LOG.debug("cmd=%s %s %s".format(cmd1, cmd2, cmd3))
_LOG.debug("cmd={cmd1} {cmd2} {cmd3}")</code></li>
<li><em>Good</em>
    <code>python
_LOG.debug("cmd=%s %s %s", cmd1, cmd2, cmd3)</code></li>
<li>All the statements are equivalent from the functional point of view</li>
<li>The reason is that in the second case the string is not built unless the
    logging is actually performed, which limits time overhead from logging</li>
</ul>
<h5 id="exceptions_dont_allow_positional_args">Exceptions don't allow positional args<a class="headerlink" href="#exceptions_dont_allow_positional_args" title="Permanent link">#</a></h5>
<ul>
<li>For some reason people tend to believe that using the <code>logging</code> / <code>dassert</code>
    approach of positional param to exceptions<ul>
<li><em>Bad</em> (use positional args)
    <code>python
raise ValueError("Invalid server_name='%s'", server_name)</code></li>
<li><em>Good</em> (use string interpolation)
    <code>python
raise ValueError("Invalid server_name='%s'" % server_name)</code></li>
<li><em>Best</em> (use string format)
    <code>python
raise ValueError(f"Invalid server_name='{server_name}'")</code></li>
</ul>
</li>
<li>The constructor of an exception accepts a string</li>
<li>Using the string f-format is best since<ul>
<li>It's more readable</li>
<li>There is little time overhead since if you get to the exception probably the
    code is going to terminate, and it's not in a hot loop</li>
</ul>
</li>
</ul>
<h5 id="report_warnings">Report warnings<a class="headerlink" href="#report_warnings" title="Permanent link">#</a></h5>
<ul>
<li>If there is a something that is suspicious but you don't feel like it's
    worthwhile to assert, report a warning with:
    <code>python
_LOG.warning(...)</code></li>
<li>If you know that if there is a warning then there are going to be many many
    warnings<ul>
<li>Print the first warning</li>
<li>Send the rest to <code>warnings.log</code></li>
<li>At the end of the run, reports "there are warnings in warnings.log"</li>
</ul>
</li>
</ul>
<h4 id="assertions">Assertions<a class="headerlink" href="#assertions" title="Permanent link">#</a></h4>
<h5 id="validate_values_before_an_assignment">Validate values before an assignment<a class="headerlink" href="#validate_values_before_an_assignment" title="Permanent link">#</a></h5>
<ul>
<li>We consider this as an extension of a pre-condition ("only assign values that
    are correct") rather than a postcondition</li>
<li>Often is more compact since it doesn't have reference to <code>self</code><ul>
<li><em>Bad</em>
    <code>python
self._tau = tau
hdbg.dassert_lte(self._tau, 0)</code></li>
<li><em>Good</em>
    <code>python
hdbg.dassert_lte(tau, 0)
self._tau = tau</code></li>
<li>
<p><em>Exceptions</em></p>
<p>When we handle a default assignment, it's more natural to implement a
post-condition:</p>
<p><code>python
col_rename_func = col_rename_func or (lambda x: x)
hdbg.dassert_isinstance(col_rename_func, collections.Callable)</code></p>
</li>
</ul>
</li>
</ul>
<h5 id="encode_the_assumptions_using_assertions">Encode the assumptions using assertions<a class="headerlink" href="#encode_the_assumptions_using_assertions" title="Permanent link">#</a></h5>
<ul>
<li>If your code makes an assumption don't just write a comment, but implement an
    assertion so the code can't be executed if the assertion is not verified
    (instead of failing silently)
    <code>python
hdbg.dassert_lt(start_date, end_date)</code></li>
</ul>
<h5 id="use_positional_args_when_asserting">Use positional args when asserting<a class="headerlink" href="#use_positional_args_when_asserting" title="Permanent link">#</a></h5>
<ul>
<li><code>dassert_*</code> is modeled after logging so for the same reasons one should use
    positional args</li>
<li><em>Bad</em>
    <code>python
hdbg.dassert_eq(a, 1, "No info for %s" % method)</code>
    Good
    <code>python
hdbg.dassert_eq(a, 1, "No info for %s", method)</code></li>
</ul>
<h5 id="report_as_much_information_as_possible_in_an_assertion">Report as much information as possible in an assertion<a class="headerlink" href="#report_as_much_information_as_possible_in_an_assertion" title="Permanent link">#</a></h5>
<ul>
<li>When using a <code>dassert_*</code> you want to give to the user as much information as
    possible to fix the problem<ul>
<li>E.g., if you get an assertion after 8 hours of computation you don't want to
    have to add some logging and run for 8 hours to just know what happened</li>
</ul>
</li>
<li>A <code>dassert_*</code> typically prints as much info as possible, but it can't report
    information that is not visible to it:<ul>
<li><em>Bad</em>
    <code>python
hdbg.dassert(string.startswith("hello"))</code><ul>
<li>You don't know what is value of <code>string</code> is</li>
</ul>
</li>
<li><em>Good</em>
    <code>python
hdbg.dassert(string.startswith("hello"), "string='%s'", string)</code><ul>
<li>Note that often is useful to add <code>'</code> (single quotation mark) to fight
    pesky spaces that make the value unclear, or to make the error as readable
    as possible</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="imports">Imports<a class="headerlink" href="#imports" title="Permanent link">#</a></h4>
<h5 id="dont_use_evil_import">Don't use evil <code>import *</code><a class="headerlink" href="#dont_use_evil_import" title="Permanent link">#</a></h5>
<ul>
<li>Do not use in notebooks or code the evil <code>import *</code><ul>
<li><em>Bad</em>
    <code>python
from helpers.hsql import *</code></li>
<li><em>Good</em>
    <code>python
import helpers.hsql as hsql</code></li>
</ul>
</li>
<li>The <code>from ... import *</code>:<ul>
<li>Pollutes the namespace with the symbols and spreads over everywhere, making
    it painful to clean up</li>
<li>Obscures where each function is coming from, removing the context that comes
    with the namespace</li>
<li><a href="https://stackoverflow.com/questions/2386714/why-is-import-bad">Is evil in many other ways</a></li>
</ul>
</li>
</ul>
<h5 id="cleaning_up_the_evil_import">Cleaning up the evil <code>import *</code><a class="headerlink" href="#cleaning_up_the_evil_import" title="Permanent link">#</a></h5>
<ul>
<li>To clean up the mess you can:<ul>
<li>For notebooks<ul>
<li>Find &amp; replace (e.g., using jupytext and Pycharm)</li>
<li>Change the import and run one cell at the time</li>
</ul>
</li>
<li>For code<ul>
<li>Change the import and use Linter on file to find all the problematic spots</li>
</ul>
</li>
</ul>
</li>
<li>One of the few spots where the evil <code>import *</code> is ok is in the <code>__init__.py</code>
    to tweak the path of symbols exported by a library<ul>
<li>This is an advanced topic and you should rarely use it</li>
</ul>
</li>
</ul>
<h5 id="avoid_from_import">Avoid <code>from ... import ...</code><a class="headerlink" href="#avoid_from_import" title="Permanent link">#</a></h5>
<ul>
<li>Import should always start from <code>import</code>:
    <code>python
import library as short_name
import library.sublibrary as short_name</code></li>
<li>This rule applies to imports of third party libraries and our library</li>
<li>Because of this rule we have to always specify a short import of a parent lib
    before every code object that does not belong to the file:<ul>
<li><em>Bad</em>
    <code>python
from helpers.hsql import get_connection, get_connection_from_env_vars, \
    DBConnection, wait_connection_from_db, execute_insert_query</code></li>
<li><em>Good</em>
    <code>python
import helpers.hsql as hsql
...
... hsql.get_connection()</code></li>
</ul>
</li>
<li>The problem with the <code>from ... import ...</code> is that it:<ul>
<li>Creates lots of maintenance effort<ul>
<li>E.g., anytime you want a new function you need to update the import
    statement</li>
</ul>
</li>
<li>Creates potential collisions of the same name<ul>
<li>E.g., lots of modules have a <code>read_data()</code> function</li>
</ul>
</li>
<li>Impairs debugging<ul>
<li>Importing directly in the namespace loses information about the module</li>
<li>E.g.,<code>read_documents()</code> is not clear: what documents?</li>
<li><code>np.read_documents()</code> at least gives information of which packages is it
    coming from and enables us to track it down to the code</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="exceptions_to_the_import_style">Exceptions to the import style<a class="headerlink" href="#exceptions_to_the_import_style" title="Permanent link">#</a></h5>
<ul>
<li>We try to minimize the exceptions to this rule to avoid to keep this rule
    simple, rather than discussing about</li>
<li>The current agreed upon exceptions are:<ul>
<li>For <code>typing</code> it is ok to do:
    <code>python
from typing import Iterable, List</code>
    in order to avoid typing everywhere, since we want to use type hints as much
    as possible</li>
</ul>
</li>
</ul>
<h5 id="always_import_with_a_full_path_from_the_root_of_the_repo_submodule">Always import with a full path from the root of the repo / submodule<a class="headerlink" href="#always_import_with_a_full_path_from_the_root_of_the_repo_submodule" title="Permanent link">#</a></h5>
<ul>
<li><em>Bad</em>
    <code>python
import exchange_class</code></li>
<li><em>Good</em>
    <code>python
import datapull.ccxt.data.extract.exchange_class</code><ul>
<li>In this way your code can run without depending upon your current dir</li>
</ul>
</li>
</ul>
<h5 id="baptizing_module_import">Baptizing module import<a class="headerlink" href="#baptizing_module_import" title="Permanent link">#</a></h5>
<ul>
<li>
<p>Each module that can be imported should have a docstring at the very beginning
    (before any code) describing how it should be imported</p>
<p>```python
"""
Import as:</p>
</li>
</ul>
<p>import datapull.ccxt.data.client.ccxt_clients as imvcdccccl
"""
    ```</p>
<ul>
<li>The import abbreviations are called 'short imports' and usually consist of 7-9
    first letters of all the words that comprise path to file</li>
<li><strong>DO NOT</strong> simply give a random short import name<ul>
<li>Run Linter to generate short import for a file automatically</li>
</ul>
</li>
<li>For some most files we specify short imorts by hand so thay may contain less
    symbols, e.g., <code>hdbg</code></li>
<li>The goal is to have always the same imports so it's easy to move code around,
    without collisions</li>
</ul>
<h5 id="examples_of_imports">Examples of imports<a class="headerlink" href="#examples_of_imports" title="Permanent link">#</a></h5>
<ul>
<li>Example 1<ul>
<li><em>Bad</em>
    <code>python
from datapull.ccxt.data.client import ccxt_clients as ccxtcl</code></li>
<li><em>Good</em>
    <code>python
import datapull.ccxt.data.client.ccxt_clients as imvcdccccl</code></li>
</ul>
</li>
<li>Example 2<ul>
<li><em>Bad</em>
    <code>python
from edgar.shared import headers_extractor as he</code></li>
<li><em>Good</em>
    <code>python
import edgar.shared.headers_extractor as eshheext</code></li>
</ul>
</li>
<li>Example 3<ul>
<li><em>Bad</em>
    <code>python
from helpers import hdbg</code></li>
<li><em>Good</em>
    <code>python
import helpers.hdbg as hdbg</code></li>
</ul>
</li>
</ul>
<h4 id="scripts">Scripts<a class="headerlink" href="#scripts" title="Permanent link">#</a></h4>
<h5 id="use_python_and_not_bash_for_scripting">Use Python and not bash for scripting<a class="headerlink" href="#use_python_and_not_bash_for_scripting" title="Permanent link">#</a></h5>
<ul>
<li>We prefer to use Python instead of bash scripts with very few exceptions<ul>
<li>E.g., scripts that need to modify the environment by setting env vars, like
    <code>setenv.sh</code></li>
</ul>
</li>
<li>The problem with bash scripts is that it's too easy to put together a sequence
    of commands to automate a workflow</li>
<li>Quickly things always become more complicated than what you thought, e.g.,<ul>
<li>You might want to interrupt if one command in the script fails</li>
<li>You want to use command line options</li>
<li>You want to use logging to see what's going on inside the script</li>
<li>You want to do a loop with a regex check inside</li>
</ul>
</li>
<li>Thus you need to use the more complex features of bash scripting and bash
    scripting is absolutely horrible, much worse than perl (e.g., just think of
    <code>if [ ... ]</code> vs <code>if [[ ... ]]</code>)</li>
<li>Our approach is to make simple to create scripts in Python that are equivalent
    to sequencing shell commands, so that can evolve in complex scripts</li>
</ul>
<h5 id="template_for_a_script">Template for a script<a class="headerlink" href="#template_for_a_script" title="Permanent link">#</a></h5>
<ul>
<li>The ingredients are:<ul>
<li><a href="/dev_scripts_helpers/coding_tools/script_template.py"><code>/dev_scripts_helpers/coding_tools/script_template.py</code></a>:
    a template to write simple scripts you can copy and modify it</li>
<li><a href="/helpers/hsystem.py"><code>/helpers/hsystem.py</code></a>: a set of utilities that make
    simple to run shell commands (e.g., capturing their output, breaking on
    error or not, tee-ing to file, logging, ...)</li>
<li><code>helpers</code> has lots of useful libraries</li>
</ul>
</li>
<li>The official reference for a script is
    <a href="/dev_scripts_helpers/coding_tools/script_template.py"><code>/dev_scripts_helpers/coding_tools/script_template.py</code></a><ul>
<li>You can copy this file and change it</li>
<li>A simple example is:
    <a href="/dev_scripts_helpers/git/gup.py"><code>/dev_scripts_helpers/git/gup.py</code></a></li>
<li>A complex example is:
    <a href="/dev_scripts_helpers/system_tools/replace_text.py"><code>/dev_scripts_helpers/system_tools/replace_text.py</code></a></li>
</ul>
</li>
</ul>
<h5 id="some_useful_patterns">Some useful patterns<a class="headerlink" href="#some_useful_patterns" title="Permanent link">#</a></h5>
<ul>
<li>Some useful patterns / idioms that are supported by the framework are:<ul>
<li>Incremental mode: you skip an action if its outcome is already present
    (e.g., skipping creating a dir, if it already exists and it contains all the
    results)</li>
<li>Non-incremental mode: clean and execute everything from scratch</li>
<li>Dry-run mode: the commands are written to screen instead of being executed</li>
</ul>
</li>
</ul>
<h5 id="use_scripts_and_not_notebooks_for_long-running_jobs">Use scripts and not notebooks for long-running jobs<a class="headerlink" href="#use_scripts_and_not_notebooks_for_long-running_jobs" title="Permanent link">#</a></h5>
<ul>
<li>We prefer to use scripts to execute code that might take long time (e.g.,
    hours) to run, instead of notebooks</li>
<li>Pros of script<ul>
<li>All the parameters are completely specified by a command line</li>
<li>Reproducible and re-runnable</li>
</ul>
</li>
<li>Cons of notebooks<ul>
<li>Tend to crash / hang for long jobs</li>
<li>Not easy to understand if the notebook is doing progress</li>
<li>Not easy to get debug output</li>
</ul>
</li>
<li>Notebooks are designed for interactive computing / debugging and not batch
    jobs<ul>
<li>You can experiment with notebooks, move the code into a library, and wrap it
    in a script</li>
</ul>
</li>
</ul>
<h5 id="follow_the_same_structure">Follow the same structure<a class="headerlink" href="#follow_the_same_structure" title="Permanent link">#</a></h5>
<ul>
<li>
<p>All Python scripts that are meant to be executed directly should:</p>
<ol>
<li>Be marked as executable files with:
 ```<blockquote>
<p>chmod +x foo_bar.py
 ```</p>
</blockquote>
</li>
<li>Have the Python code should start with the standard Unix shebang notation:
 ```python</li>
</ol>
<h2 id="usrbinenv_python">!/usr/bin/env python<a class="headerlink" href="#usrbinenv_python" title="Permanent link">#</a></h2>
<p><code>``
- This line tells the shell to use the</code>python` defined in the environment
- In this way you can execute directly without prepending with "python"</p>
<ol>
<li>Have a:
 <code>python
if __name__ == "__main__":
    ...</code></li>
<li>Ideally use <code>argparse</code> to have a minimum of customization</li>
</ol>
</li>
</ul>
<h5 id="use_clear_names_for_the_scripts">Use clear names for the scripts<a class="headerlink" href="#use_clear_names_for_the_scripts" title="Permanent link">#</a></h5>
<ul>
<li>In general scripts (like functions) should have a name like "action_verb".<ul>
<li><em>Bad</em><ul>
<li>Examples of bad script names are <code>timestamp_extractor.py</code> and
    <code>timestamp_extractor_v2.py</code><ul>
<li>Which timestamp data set are we talking about?</li>
<li>What type of timestamps are we extracting?</li>
<li>What is the difference about these two scripts?</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>We need to give names to scripts that help people understand what they do and
    the context in which they operate</li>
<li>We can add a reference to the task that originated the work (to give more
    context)<ul>
<li><em>Good</em><ul>
<li>E.g., for a script generating a dataset there should be an (umbrella) bug
    for this dataset, that we refer in the bug name, e.g.,
    <code>TaskXYZ_edgar_timestamp_dataset_extractor.py</code></li>
</ul>
</li>
</ul>
</li>
<li>Also where the script is located should give some clue of what is related to</li>
</ul>
<h4 id="functions">Functions<a class="headerlink" href="#functions" title="Permanent link">#</a></h4>
<h5 id="avoid_using_non-exclusive_bool_arguments">Avoid using non-exclusive <code>bool</code> arguments<a class="headerlink" href="#avoid_using_non-exclusive_bool_arguments" title="Permanent link">#</a></h5>
<ul>
<li>While a simple <code>True</code>/<code>False</code> switch may suffice for today's needs, very often
    more flexibility is eventually needed</li>
<li>If more flexibility is needed for a <code>bool</code> argument, you are faced with the
    choice:<ul>
<li>Adding another parameter (then parameter combinations grow exponentially and
    may not all make sense)</li>
<li>Changing the parameter type to something else</li>
</ul>
</li>
<li>Either way, you have to change the function interface</li>
<li>To maintain flexibility from the start, opt for a <code>str</code> parameter "mode",
    which is allowed to take a small well-defined set of values.</li>
<li>If an implicit default is desirable, consider making the default value of the
    parameter <code>None</code>. This is only a good route if the default operation is
    non-controversial / intuitively obvious.</li>
</ul>
<h5 id="try_to_make_functions_work_on_multiple_types">Try to make functions work on multiple types<a class="headerlink" href="#try_to_make_functions_work_on_multiple_types" title="Permanent link">#</a></h5>
<ul>
<li>We encourage implementing functions that can work on multiple related types:<ul>
<li><em>Bad</em>: implement <code>demean_series()</code>, <code>demean_dataframe()</code></li>
<li><em>Good</em>: implement a function <code>demean(obj)</code> that can work with <code>pd.Series</code>
    and <code>pd.DataFrame</code><ul>
<li>One convention is to call <code>obj</code> the variable whose type is not known until
    run-time</li>
</ul>
</li>
</ul>
</li>
<li>In this way we take full advantage of duck typing to achieve something similar
    to C++ function overloading (actually even more expressive)</li>
<li>Try to return the same type of the input, if possible<ul>
<li>E.g., the function called on a <code>pd.Series</code> returns a <code>pd.Series</code></li>
</ul>
</li>
</ul>
<h5 id="avoid_hard-wired_column_name_dependencies">Avoid hard-wired column name dependencies<a class="headerlink" href="#avoid_hard-wired_column_name_dependencies" title="Permanent link">#</a></h5>
<ul>
<li>When working with dataframes, we often want need handle certain columns
    differently, or perform an operation on a strict subset of columns</li>
<li>In these cases, it is tempting to assume that the special columns will have
    specific names, e.g., <code>"datetime"</code></li>
<li>The problem is that column names are<ul>
<li>Rarely obvious (e.g., compare <code>"datetime"</code> vs <code>"timestamp"</code> vs <code>"Datetime"</code>)</li>
<li>Tied to specific use cases<ul>
<li>The function you are writing may be written for a specific use case today,
    but what if it is more general</li>
<li>If someone wants to reuse your function in a different setting where
    different column names make sense, why should they have to conform to your
    specific use case's needs?</li>
</ul>
</li>
<li>May overwrite existing column names<ul>
<li>For example, you may decided to call a column <code>"output"</code>, but what if the
    dataframe already has a column with that name?</li>
</ul>
</li>
</ul>
</li>
<li>To get around this, allow the caller to communicate to the function the names
    of any special columns<ul>
<li><em>Good</em>
    <code>python
def func(datetime_col: str):
    ...</code></li>
</ul>
</li>
<li>Make sure that you require column names only if they are actually used by the
    function</li>
<li>If you must use hard-write column names internally or for some application,
    define the column name in the library file as a global variable, like
    <code>python
DATETIME_COL = "datetime"</code><ul>
<li>Users of the library can now access the column name through imports</li>
<li>This prevents hidden column name dependencies from spreading like a virus
    throughout the codebase</li>
</ul>
</li>
</ul>
<h5 id="single_exit_point_from_a_function">Single exit point from a function<a class="headerlink" href="#single_exit_point_from_a_function" title="Permanent link">#</a></h5>
<ul>
<li>Consider the following <em>Bad</em> function
    <code>python
def _get_zero_element(list_: List):
            if not list_:
                    return None
            else:
                    return list_[0]</code><ul>
<li>Linter message is
    <code>im.kibot/utils.py:394: [R1705(no-else-return), ExpiryContractMapper.extract_contract_expiry] Unnecessary "else" after "return"
    [pylint]</code></li>
</ul>
</li>
<li>Try to have a single exit point from a function, since this guarantees that
    the return value is always the same</li>
<li>In general returning different data structures from the same function (e.g., a
    list in one case and a float in another) is indication of bad design<ul>
<li>There are exceptions like a function that works on different types (e.g.,
    accepts a dataframe or a series and then returns a dataframe or a series,
    but the input and output is the same)</li>
<li>Returning different types (e.g., float and string) is also bad</li>
<li>Returning a type or <code>None</code> is typically ok</li>
</ul>
</li>
<li>Try to return values that are consistent so that the client doesn't have to
    switch statement, using <code>isinstance(...)</code><ul>
<li>E.g., return a <code>float</code> and if the value can't be computed return <code>np.nan</code>
    (instead of <code>None</code>) so that the client can use the return value in a uniform
    way</li>
</ul>
</li>
<li>Function examples with single exit point
    <code>python
def _get_zero_element(list_: List):
        if not list_:
                ret = np.nan
        else:
                ret = list_[0]
        return ret</code>
    or
    <code>python
def _get_zero_element(list_: List):
        ret = np.nan if not list_ else list_[0]
        return ret</code></li>
<li>However in rare cases it is OK to have functions like:
    <code>python
def ...(...):
        # Handle simple cases.
        ...
        if ...:
                return
        # lots of code
        ...
        return</code></li>
</ul>
<h5 id="order_of_function_parameters">Order of function parameters<a class="headerlink" href="#order_of_function_parameters" title="Permanent link">#</a></h5>
<h6 id="problem">Problem<a class="headerlink" href="#problem" title="Permanent link">#</a></h6>
<ul>
<li>We want to have a standard, simple, and logical order for specifying the
    arguments of a function</li>
</ul>
<h6 id="decision">Decision<a class="headerlink" href="#decision" title="Permanent link">#</a></h6>
<ul>
<li>The preferred order is:<ul>
<li>Input parameters</li>
<li>Output parameters</li>
<li>In-out parameters</li>
<li>Default parameters</li>
</ul>
</li>
</ul>
<h5 id="consistency_of_ordering_of_function_parameters">Consistency of ordering of function parameters<a class="headerlink" href="#consistency_of_ordering_of_function_parameters" title="Permanent link">#</a></h5>
<ul>
<li>Try to:<ul>
<li>Keep related variables close to each other</li>
<li>Keep the order of parameters similar across functions that have similar
    interface</li>
</ul>
</li>
<li>Enforcing these rules is based on best effort</li>
<li>Pycharm is helpful when changing order of parameters</li>
<li>Use Linter to check consistency of types between function definition and
    invocation</li>
</ul>
<h5 id="style_for_default_parameter">Style for default parameter<a class="headerlink" href="#style_for_default_parameter" title="Permanent link">#</a></h5>
<h6 id="problem_1">Problem<a class="headerlink" href="#problem_1" title="Permanent link">#</a></h6>
<ul>
<li>How to assign default parameters in a function to make them clear and
    distinguishable?</li>
</ul>
<h6 id="decision_1">Decision<a class="headerlink" href="#decision_1" title="Permanent link">#</a></h6>
<ul>
<li>We make all the default parameters keyword-only<ul>
<li>This means that we should always specify default parameters using a keyword</li>
<li>When building a function, always put default parameters after <code>*</code></li>
</ul>
</li>
<li>It's ok to use a default parameter in the interface as long as it is a Python
    scalar (which is immutable by definition)<ul>
<li><em>Good</em>
    <code>python
def function(
value: int = 5,
*,
dir_name: str = "hello_world",
):</code></li>
</ul>
</li>
<li>You should not use list, maps, objects, etc. as the default value but pass
    <code>None</code> and then initialize the default param inside the function<ul>
<li><em>Bad</em>
    <code>python
def function(
*,
obj: Object = Object(),
list_: List[int] = [],
):</code></li>
<li><em>Good</em>
    <code>python
def function(
*,
obj: Optional[Object] = None,
list_: Optional[List[int]] = None,
):
if obj is None:
    obj = Object()
if list_ is None:
    list_ = []</code></li>
</ul>
</li>
<li>We use a <code>None</code> default value when a function needs to be wrapped and the
    default parameter needs to be propagated<ul>
<li>
<p><em>Good</em></p>
<p>```python
def function1(
    ...,
    *,
    dir_name: Optional[str] = None,
):
    dir_name = dir_name or "/very_long_path"</p>
</li>
</ul>
</li>
</ul>
<p>def function2(
    ...,
    *,
    dir_name: Optional[str] = None,
):
    function1(..., dir_name=dir_name)
        ```</p>
<h6 id="rationale">Rationale<a class="headerlink" href="#rationale" title="Permanent link">#</a></h6>
<ul>
<li>Pros of the <em>Good</em> vs <em>Bad</em> style<ul>
<li>When you wrap multiple functions, each function needs to propagate the
    default parameters, which:<ul>
<li>Violates DRY; and</li>
<li>Adds maintenance burden (if you change the innermost default parameter,
    you need to change all of them!)</li>
<li>With the proposed approach, all the functions use <code>None</code>, until the
    innermost function resolves the parameters to the default values</li>
</ul>
</li>
<li>The interface is cleaner</li>
<li>Implementation details are hidden (e.g., why should the caller know what is
    the default path?)</li>
<li>Mutable parameters can not be passed through (see
    <a href="https://stackoverflow.com/questions/1132941/least-astonishment-and-the-mutable-default-argument">here</a>))</li>
</ul>
</li>
<li>Cons:<ul>
<li>One needs to add <code>Optional</code> to the type hint</li>
</ul>
</li>
</ul>
<h5 id="calling_functions_with_default_parameters">Calling functions with default parameters<a class="headerlink" href="#calling_functions_with_default_parameters" title="Permanent link">#</a></h5>
<h6 id="problem_2">Problem<a class="headerlink" href="#problem_2" title="Permanent link">#</a></h6>
<ul>
<li>You have a function
    <code>python
def func(
    task_name : str,
    dataset_dir : str,
    *,
    clobber : bool = clobber,
):
...</code></li>
<li>How should it be invoked?</li>
</ul>
<h6 id="decision_2">Decision<a class="headerlink" href="#decision_2" title="Permanent link">#</a></h6>
<ul>
<li>We prefer to<ul>
<li>Assign directly the positional parameters</li>
<li>Bind explicitly the parameters with a default value using their name</li>
<li>Do not put actual parameter values to the function call but specify them
    right before</li>
<li><em>Bad</em>
    <code>python
func("some_task_name", "/dir/subdir", clobber=False)</code></li>
<li><em>Good</em>
    <code>python
task_name = "some_task_name"
dataset_dir = "/dir/subdir"
clobber = False
func(task_name, dataset_dir, clobber=clobber)</code></li>
</ul>
</li>
</ul>
<h6 id="rationale_1">Rationale<a class="headerlink" href="#rationale_1" title="Permanent link">#</a></h6>
<ul>
<li>Pros of <em>Good</em> vs <em>Bad</em> style<ul>
<li>If a new parameter with a default value is added to the function <code>func</code>
    before <code>clobber</code>:<ul>
<li>The <em>Good</em> idiom doesn't need to be changed</li>
<li>All instances of the <em>Bad</em> idiom need to be updated<ul>
<li>The <em>Bad</em> idiom might keep working but with silent failures</li>
<li>Of course <code>mypy</code> and <code>Pycharm</code> might point this out</li>
</ul>
</li>
</ul>
</li>
<li>The <em>Good</em> style highlights which default parameters are being overwritten,
    by using the name of the parameter<ul>
<li>Overwriting a default parameter is an exceptional situation that should be
    explicitly commented</li>
</ul>
</li>
</ul>
</li>
<li>Cons:<ul>
<li>None</li>
</ul>
</li>
</ul>
<h5 id="dont_repeat_non-default_parameters">Don't repeat non-default parameters<a class="headerlink" href="#dont_repeat_non-default_parameters" title="Permanent link">#</a></h5>
<h6 id="problem_3">Problem<a class="headerlink" href="#problem_3" title="Permanent link">#</a></h6>
<ul>
<li>Given a function with the following interface:
    <code>python
def mult_and_sum(multiplier_1, multiplier_2, sum_):
        return multiplier_1 * multiplier_2 + sum_</code>
    how to invoke it?</li>
</ul>
<h6 id="decision_3">Decision<a class="headerlink" href="#decision_3" title="Permanent link">#</a></h6>
<ul>
<li>Positional arguments are not default, so not keyword-only for consistency<ul>
<li><em>Bad</em>
    <code>python
a = 1
b = 2
c = 3
mult_and_sum(multiplier_1=a,
         multiplier_2=b,
         sum_=c)</code></li>
<li><em>Good</em>
    <code>python
a = 1
b = 2
c = 3
mult_and_sum(a, b, c)</code></li>
</ul>
</li>
</ul>
<h6 id="rationale_2">Rationale<a class="headerlink" href="#rationale_2" title="Permanent link">#</a></h6>
<ul>
<li>Pros of <em>Good</em> vs <em>Bad</em><ul>
<li>Non-default parameters in Python require all the successive parameters to be
    name-assigned<ul>
<li>This causes maintenance burden</li>
</ul>
</li>
<li>The <em>Bad</em> approach is in contrast with our rule for the default parameters<ul>
<li>We want to highlight which parameters are overriding the default</li>
</ul>
</li>
<li>The <em>Bad</em> approach in practice requires all positional parameters to be
    assigned explicitly causing:<ul>
<li>Repetition in violation of DRY (e.g., you need to repeat the same
    parameter everywhere); and</li>
<li>Maintainance burden (e.g., if you change the name of a function parameter
    you need to change all the invocations)</li>
</ul>
</li>
<li>The <em>Bad</em> style is a convention used in no language (e.g., C, C++, Java)<ul>
<li>All languages allow binding by parameter position</li>
<li>Only some languages allow binding by parameter name</li>
</ul>
</li>
<li>The <em>Bad</em> makes the code very wide, creating problems with our 80 columns
    rule</li>
</ul>
</li>
<li>Cons of <em>Good</em> vs <em>Bad</em><ul>
<li>One could argue that the <em>Bad</em> form is clearer<ul>
<li>IMO the problem is in the names of the variables, which are uninformative,
    e.g., a better naming achieves the same goal of clarity
    <code>python
mul1 = 1
mul2 = 2
sum_ = 3
mult_and_sum(mul1, mul2, sum_)</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="writing_clear_beautiful_code">Writing clear beautiful code<a class="headerlink" href="#writing_clear_beautiful_code" title="Permanent link">#</a></h4>
<h5 id="keep_related_code_close">Keep related code close<a class="headerlink" href="#keep_related_code_close" title="Permanent link">#</a></h5>
<ul>
<li>E.g., keep code that computes data close to the code that uses it.</li>
<li>This holds also for notebooks: do not compute all the data structure and then
    analyze them.</li>
<li>It's better to keep the section that "reads data" close to the section that
    "processes it". In this way it's easier to see "blocks" of code that are
    dependent from each other, and run only a cluster of cells.</li>
</ul>
<h5 id="order_functions_in_topological_order">Order functions in topological order<a class="headerlink" href="#order_functions_in_topological_order" title="Permanent link">#</a></h5>
<ul>
<li>Order functions / classes in topological order so that the ones at the top of
    the files are the "innermost" and the ones at the end of the files are the
    "outermost"<ul>
<li>In this way, reading the code top to bottom one should not find a forward
    reference that requires skipping back and forth</li>
</ul>
</li>
<li>Linter reorders functions and classes in the topological order so make sure
    you run it after adding new ones</li>
</ul>
<h5 id="distinguish_public_and_private_functions">Distinguish public and private functions<a class="headerlink" href="#distinguish_public_and_private_functions" title="Permanent link">#</a></h5>
<ul>
<li>The public functions <code>foo_bar()</code> (not starting with <code>_</code>) are the ones that
    make up the interface of a module and that are called from other modules and
    from notebooks</li>
<li>Use private functions like <code>_foo_bar()</code> when a function is a helper of another
    private or public function</li>
<li>Also follow the "keep related code close" close by keeping the private
    functions close to the functions (private or public) that are using them</li>
<li>Some references:<ul>
<li><a href="https://stackoverflow.com/questions/1641219/does-python-have-private-variables-in-classes?noredirect=1&amp;lq=1">StackOverflow</a></li>
</ul>
</li>
</ul>
<h5 id="keep_public_functions_organized_in_a_logical_order">Keep public functions organized in a logical order<a class="headerlink" href="#keep_public_functions_organized_in_a_logical_order" title="Permanent link">#</a></h5>
<ul>
<li>Keep the public functions in an order related to the use representing the
    typical flow of use, e.g.,<ul>
<li>Common functions, used by all other functions</li>
<li>Read data</li>
<li>Process data</li>
<li>Save data</li>
</ul>
</li>
<li>You can use banners to separate layers of the code. Use the banner long 80
    cols (e.g., I have a vim macro to create banners that always look the same)
    and be consistent with empty lines before / empty and so on.</li>
<li>
<p>The banner is a way of saying "all these functions belong together".</p>
<p>```python</p>
<h2 id="_3"><a class="headerlink" href="#_3" title="Permanent link">#</a></h2>
<h2 id="read_data">Read data.<a class="headerlink" href="#read_data" title="Permanent link">#</a></h2>
<h2 id="_4"><a class="headerlink" href="#_4" title="Permanent link">#</a></h2>
</li>
</ul>
<p>def _helper1_to_func1():
...
def _helper2_to_func1():
...
def func1_read_data1():
        _helper1_to_func1()
        ...
        _helper2_to_func2()</p>
<h2 id="_5"><a class="headerlink" href="#_5" title="Permanent link">#</a></h2>
<h2 id="process_data">Process data.<a class="headerlink" href="#process_data" title="Permanent link">#</a></h2>
<h2 id="_6"><a class="headerlink" href="#_6" title="Permanent link">#</a></h2>
<p>...</p>
<h2 id="_7"><a class="headerlink" href="#_7" title="Permanent link">#</a></h2>
<h2 id="save_data">Save data.<a class="headerlink" href="#save_data" title="Permanent link">#</a></h2>
<h2 id="_8"><a class="headerlink" href="#_8" title="Permanent link">#</a></h2>
<p>...
    ```</p>
<ul>
<li>Ideally each section of code should use only sections above, and be used by
    sections below (aka "Unix layer approach").</li>
<li>If you find yourself using too many banners this is in indication that code
    might need to be split into different classes or files<ul>
<li>Although we don't have agreed upon rules, it might be ok to have large files
    as long as they are well organized. E.g., in <code>pandas</code> code base, all the
    code for DataFrame is in a single file long many thousands of lines (!), but
    it is nicely separated in sections that make easy to navigate the code</li>
<li>Too many files can become problematic, since one needs to start jumping
    across many files: in other words it is possible to organize the code too
    much (e.g. what if each function is in a single module?)</li>
<li>Let's try to find the right balance.</li>
</ul>
</li>
<li>It might be a good idea to use classes to split the code, but also OOP can
    have a dark side<ul>
<li>E.g., using OOP only to reorganize the code instead of introducing
    "concepts"</li>
<li>IMO the worst issue is that they don't play super-well with Jupyter
    autoreload</li>
</ul>
</li>
</ul>
<h5 id="do_not_make_tiny_wrappers">Do not make tiny wrappers<a class="headerlink" href="#do_not_make_tiny_wrappers" title="Permanent link">#</a></h5>
<ul>
<li>Examples of horrible functions:<ul>
<li>How many characters did we really save? If typing is a problem, learn to
    touch type.
    <code>python
def is_exists(path: str) -&gt; None:
    return os.path.exists(path)</code>
    or
    <code>python
def make_dirs(path: str) -&gt; List[str]:
    os.makedirs(path)</code></li>
<li>This one can be simply replaced by <code>os.path.dirname</code>
    <code>python
def folder_name(f_name: str) -&gt; str:
    if f_name[-1] != "/":
            return f_name + "/"
    return f_name</code></li>
</ul>
</li>
</ul>
<h5 id="regex">Regex<a class="headerlink" href="#regex" title="Permanent link">#</a></h5>
<ul>
<li>The rule of thumb is to compile a regex expression, e.g.,
    <code>python
backslash_regex = re.compile(r"\\")</code>
    only if it's called more than once, otherwise the overhead of compilation and
    creating another var is not justified</li>
</ul>
<h5 id="do_not_introduce_another_concept_unless_really_needed">Do not introduce another "concept" unless really needed<a class="headerlink" href="#do_not_introduce_another_concept_unless_really_needed" title="Permanent link">#</a></h5>
<ul>
<li>We want to introduce degrees of freedom and indirection only when we think
    this can be useful to make the code easy to maintain, read, and expand.</li>
<li>If we add degrees of freedom everywhere just because we think that at some
    point in the future this might be useful, then there is very little advantage
    and large overhead.</li>
<li>Introducing a new variable, function, class introduces a new concept that one
    needs to keep in mind. People that read the code, needs to go back and forth
    in the code to see what each concept means.</li>
<li>Think about the trade-offs and be consistent.</li>
<li>Example 1
    <code>python
def fancy_print(txt):
        print "fancy: ", txt</code><ul>
<li>Then people that change the code need to be aware that there is a function
    that prints in a special way. The only reason to add this shallow wrapper is
    that, in the future, we believe we want to change all these calls in the
    code.</li>
</ul>
</li>
<li>Example 2
    <code>python
SNAPSHOT_ID = "SnapshotId"</code><ul>
<li>Another example is parametrizing a value used in a single function.</li>
<li>If multiple functions need to use the same value, then this practice can be
    a good idea. If there is a single function using this, one should at least
    keep it local to the function.</li>
<li>Still note that introducing a new concept can also create confusion. What if
    we need to change the code to:
    <code>python
SNAPSHOT_ID = "TigerId"</code>
    then the variable and its value are in contrast.</li>
</ul>
</li>
</ul>
<h5 id="return_none_or_keep_one_type">Return <code>None</code> or keep one type<a class="headerlink" href="#return_none_or_keep_one_type" title="Permanent link">#</a></h5>
<ul>
<li>Functions that return different types can make things complicated downstream,
    since the callers need to be aware of all of it and handle different cases.
    This also complicates the docstring, since one needs to explicitly explain
    what the special values mean, all the types and so on.</li>
<li>In general returning multiple types is an indication that there is a problem.</li>
<li>Of course this is a trade-off between flexibility and making the code robust
    and easy to understand, e.g.,</li>
<li>In the following example it is better to either return <code>None</code> (to clarify that
    something special happened) or an empty dataframe <code>pd.DataFrame(None)</code> to
    allow the caller code being indifferent to what is returned.<ul>
<li><em>Bad</em>
    <code>python
if "Tags" not in df.columns:
    df["Name"] = np.nan
else:
    df["Name"] = df["Tags"].apply(extract_name)</code></li>
<li><em>Good</em>
    <code>python
if "Tags" not in df.columns:
    df["Name"] = None
else:
    df["Name"] = df["Tags"].apply(extract_name)</code></li>
</ul>
</li>
</ul>
<h5 id="avoid_wall-of-text_functions">Avoid wall-of-text functions<a class="headerlink" href="#avoid_wall-of-text_functions" title="Permanent link">#</a></h5>
<ul>
<li><em>Bad</em>
    <code>python
def get_timestamp_data(raw_df: pd.DataFrame) -&gt; pd.DataFrame:
        timestamp_df = get_raw_timestamp(raw_df)
        documents_series = raw_df.progress_apply(he.extract_documents_v2, axis=1)
        documents_df = pd.concat(documents_series.values.tolist())
        documents_df.set_index(api.cfg.INDEX_COLUMN, drop=True, inplace=True)
        documents_df = documents_df[
                documents_df[api.cfg.DOCUMENTS_DOC_TYPE_COL] != ""]
        types = documents_df.groupby(
                api.cfg.DOCUMENTS_IDX_COL)[api.cfg.DOCUMENTS_DOC_TYPE_COL].unique()
        timestamp_df[api.cfg.TIMESTAMP_DOC_TYPES_COL] = types
        is_xbrl_series = raw_df[api.cfg.DATA_COLUMN].apply(he.check_xbrl)
        timestamp_df[api.cfg.TIMESTAMP_DOC_ISXBRL_COL] = is_xbrl_series
        timestamp_df[api.cfg.TIMESTAMP_DOC_EX99_COL] = timestamp_df[
                api.cfg.TIMESTAMP_DOC_TYPES_COL].apply(
                        lambda x: any(['ex-99' in t.lower() for t in x]))
        timestamp_df = timestamp_df.rename(columns=api.cfg.TIMESTAMP_COLUMN_RENAMES)
        return timestamp_df</code><ul>
<li>This function is correct but it has few problems (e.g., lack of a docstring,
    lots of unclear concepts, abuse of constants).</li>
</ul>
</li>
<li>
<p><em>Good</em></p>
<p>```python
def get_timestamp_data(raw_df: pd.DataFrame) -&gt; pd.DataFrame:
    """
    Get data containing timestamp information.</p>
<pre><code>:param raw_df: input non-processed data
:return: timestamp data
"""
# Get data containing raw timestamp information.
timestamp_df = get_raw_timestamp(raw_df)
# Extract the documents with data type information.
documents_series = raw_df.progress_apply(he.extract_documents_v2, axis=1)
documents_df = pd.concat(documents_series.values.tolist())
documents_df.set_index(api.cfg.INDEX_COLUMN, drop=True, inplace=True)
documents_df = documents_df[
        documents_df[api.cfg.DOCUMENTS_DOC_TYPE_COL] != ""
]
types = documents_df.groupby(
        api.cfg.DOCUMENTS_IDX_COL
)[api.cfg.DOCUMENTS_DOC_TYPE_COL].unique()
# Set columns about types of information contained.
timestamp_df[api.cfg.TIMESTAMP_DOC_TYPES_COL] = types
is_xbrl_series = raw_df[api.cfg.DATA_COLUMN].apply(he.check_xbrl)
timestamp_df[api.cfg.TIMESTAMP_DOC_ISXBRL_COL] = is_xbrl_series
timestamp_df[api.cfg.TIMESTAMP_DOC_EX99_COL] = timestamp_df[
        api.cfg.TIMESTAMP_DOC_TYPES_COL
].apply(lambda x: any(["ex-99" in t.lower() for t in x]))
# Rename columns to canonical representation.
timestamp_df = timestamp_df.rename(columns=api.cfg.TIMESTAMP_COLUMN_RENAMES)
return timestamp_df
</code></pre>
<p><code>``
- You should at least split the functions in chunks using</code>#` or even better
    comment what each chunk of code does.</p>
</li>
</ul>
<h4 id="writing_robust_code">Writing robust code<a class="headerlink" href="#writing_robust_code" title="Permanent link">#</a></h4>
<h5 id="dont_let_your_functions_catch_the_default-itis">Don't let your functions catch the default-itis<a class="headerlink" href="#dont_let_your_functions_catch_the_default-itis" title="Permanent link">#</a></h5>
<ul>
<li>Default-itis is a disease of a function that manifests itself by getting too
    many default parameters.</li>
<li>Default params should be used only for parameters that 99% of the time are
    constant.</li>
<li>In general we require the caller to be clear and specify all the params.</li>
<li>Functions catch defaultitis when the programmer is lazy and wants to change
    the behavior of a function without changing all the callers and unit tests.
    Resist this urge! <code>grep</code> is friend. Pycharm does this refactoring
    automatically.</li>
</ul>
<h5 id="explicitly_bind_default_parameters">Explicitly bind default parameters<a class="headerlink" href="#explicitly_bind_default_parameters" title="Permanent link">#</a></h5>
<ul>
<li>It's best to explicitly bind functions with the default params so that if the
    function signature changes, your functions doesn't confuse a default param was
    a positional one.<ul>
<li><em>Bad</em>
    <code>python
hdbg.dassert(
    args.form or args.form_list,
    "You must specify one of the parameters: --form or --form_list",
)</code></li>
<li><em>Good</em>
    <code>python
hdbg.dassert(
    args.form or args.form_list,
    msg="You must specify one of the parameters: --form or --form_list",
)</code></li>
</ul>
</li>
</ul>
<h5 id="dont_hardwire_params_in_a_function_call">Don't hardwire params in a function call<a class="headerlink" href="#dont_hardwire_params_in_a_function_call" title="Permanent link">#</a></h5>
<ul>
<li><em>Bad</em>
    <code>python
esa_df = universe.get_esa_universe_mapped(False, True)</code><ul>
<li>It is difficult to read and understand without looking for the invoked
    function (aka write-only code) and it's brittle since a change in the
    function params goes unnoticed.</li>
</ul>
</li>
<li><em>Good</em>
    <code>python
gvkey = False
cik = True
esa_df = universe.get_esa_universe_mapped(gvkey, cik)</code><ul>
<li>It's better to be explicit (as usual)</li>
<li>This solution is robust since it will work as long as gvkey and cik are the
    only needed params, which is as much as we can require from the called
    function.</li>
</ul>
</li>
</ul>
<h5 id="make_if-elif-else_complete">Make <code>if-elif-else</code> complete<a class="headerlink" href="#make_if-elif-else_complete" title="Permanent link">#</a></h5>
<ul>
<li>In general all the <code>if-elif-else</code> statements should to be complete, so that
    the code is robust.</li>
<li><em>Bad</em>
    <code>python
hdbg.dassert_in(
        frequency,
        ["D", "T"]
        "Only daily ('D') and minutely ('T') frequencies are supported.",
)
if frequency == "T":
        ...
if frequency == "D":
        ...</code></li>
<li><em>Good</em>
    <code>python
if frequency == "T":
        ...
elif frequency == "D":
        ...
else:
        raise ValueError("The %s frequency is not supported" % frequency)</code><ul>
<li>This code is robust and correct</li>
<li>Still the <code>if-elif-else</code> is enough and the assertion is not needed<ul>
<li>DRY here wins: you don't want to have to keep two pieces of code in sync</li>
<li>The last line is a catch-all that makes sure even if we modify the
    previous</li>
</ul>
</li>
<li>It makes sense to check early only when you want to fail before doing more
    work</li>
<li>E.g., sanity checking the parameters of a long running function, so that it
    doesn't run for 1 hr and then crash because the name of the file is
    incorrect</li>
</ul>
</li>
</ul>
<h5 id="add_todos_when_needed">Add TODOs when needed<a class="headerlink" href="#add_todos_when_needed" title="Permanent link">#</a></h5>
<ul>
<li>When there is something that you know you should have done, but you didn't
    have time to do, add a TODO, possibly using your github name e.g.,
    ```python</li>
</ul>
<h2 id="todogp">TODO(gp): ...<a class="headerlink" href="#todogp" title="Permanent link">#</a></h2>
<pre><code>```
- In this way it's easy to grep for your TODOs, which becomes complicated when
    using different names.
</code></pre>
<ul>
<li>Be clear on the meaning of TODO<ul>
<li>A <code>TODO(Batman): clean this up</code> can be interpreted as<ol>
<li>"Batman suggested to clean this up"</li>
<li>"Batman should clean this up"</li>
<li>"Batman has the most context to explain this problem or fix it"</li>
</ol>
</li>
<li>On the one hand, <code>git blame</code> will report who created the TODO, so the first
    meaning is redundant.</li>
<li>On the other hand, since we follow a shared ownership of the code, the
    second meaning should be quite infrequent. In fact the code has mostly
    <code>TODO(*)</code> todos, where <code>*</code> relates to all the team members</li>
<li>Given pros and cons, the proposal is to use the first meaning.</li>
<li>This is also what Google style guide suggests
    <a href="https://github.com/google/styleguide/blob/gh-pages/pyguide.md#312-todo-comments">here</a></li>
</ul>
</li>
<li>If the TODO is associated with a Github issue, you can simply put the issue
    number and description inside the TODO, e.g.,
    ```python</li>
</ul>
<h2 id="todogrisha_handle_missing_tiles_cmtask_1775">TODO(Grisha): "Handle missing tiles" CmTask #1775.<a class="headerlink" href="#todogrisha_handle_missing_tiles_cmtask_1775" title="Permanent link">#</a></h2>
<pre><code>```
</code></pre>
<ul>
<li>You can create a TODO for somebody else, or you can create a Upsource comment
    / review or Github bug, depending on how important the issue is</li>
<li>If the TODO is general, e.g., anybody can fix it, then you can avoid to put a
    name. This should not be abused since it creates a culture when people don't
    take responsibility for their mistakes.</li>
<li>You can use P1, P2 to indicate if the issue is critical or not. E.g., P0 is
    the default for saying this is important, P1 is more of a "nice to have".
    ```python</li>
</ul>
<h2 id="todosergey_p1_this_can_be_implemented_in_pandas_using_a_range_generation">TODO(Sergey): P1 This can be implemented in pandas using a range generation.<a class="headerlink" href="#todosergey_p1_this_can_be_implemented_in_pandas_using_a_range_generation" title="Permanent link">#</a></h2>
<pre><code>```
</code></pre>
<h4 id="common_python_mistakes">Common Python mistakes<a class="headerlink" href="#common_python_mistakes" title="Permanent link">#</a></h4>
<h5 id="vs_is"><code>==</code> vs <code>is</code><a class="headerlink" href="#vs_is" title="Permanent link">#</a></h5>
<ul>
<li><code>is</code> checks whether two variables point to the same object (aka reference
    equality), while <code>==</code> checks if the two pointed objects are equivalent (value
    equality).</li>
<li>For checking against types like <code>None</code> we want to use <code>is</code>, <code>is not</code><ul>
<li><em>Bad</em>
    <code>python
if var == None:</code></li>
<li><em>Good</em>
    <code>python
if var is None:</code></li>
</ul>
</li>
<li>For checking against values we want to use <code>==</code><ul>
<li><em>Bad</em>
    <code>python
if unit is "minute":</code></li>
<li><em>Good</em>
    <code>python
if unit == "minute":</code></li>
</ul>
</li>
<li>For more info checks
    <a href="https://stackoverflow.com/questions/132988/is-there-a-difference-between-and-is-in-python">here</a></li>
</ul>
<h5 id="type_vs_isinstance"><code>type()</code> vs <code>isinstance()</code><a class="headerlink" href="#type_vs_isinstance" title="Permanent link">#</a></h5>
<ul>
<li><code>type(obj) == list</code> is worse since we want to test for reference equality (the
    type of object is a list) and not the type of obj is equivalent to a list.</li>
<li><code>isinstance</code> caters for inheritance (an instance of a derived class is an
    instance of a base class, too), while checking for equality of type does not
    (it demands identity of types and rejects instances of subtypes, AKA
    subclasses).<ul>
<li><em>Bad</em>
    <code>python
if type(obj) is list:</code></li>
<li><em>Good</em>
    <code>python
if isinstance(obj, list):</code></li>
</ul>
</li>
<li>For more info check
    <a href="https://stackoverflow.com/questions/1549801/what-are-the-differences-between-type-and-isinstance">here</a></li>
</ul>
<h4 id="use_helpers">Use <code>helpers</code><a class="headerlink" href="#use_helpers" title="Permanent link">#</a></h4>
<ul>
<li>The <code>helpers</code> dir contains libraries with a lot of useful code</li>
<li>If you find yourself in need of a general-purpose/basic functionality, chances
    are, it already exists in one of the <code>helpers</code> libraries. E.g.:<ul>
<li>For anything related to filesystem operations, see
    <a href="/helpers/hio.py"><code>/helpers/hio.py</code></a></li>
<li>For constructing assertions, see <a href="/helpers/hdbg.py"><code>/helpers/hdbg.py</code></a></li>
<li>For handling printing, see <a href="/helpers/hprint.py"><code>/helpers/hprint.py</code></a></li>
<li>For working with <code>pandas</code> dataframes, see
    <a href="/helpers/hpandas.py"><code>/helpers/hpandas.py</code></a></li>
<li>Etc etc</li>
</ul>
</li>
<li>Before implementing something, always check first if it is already available
    in <code>helpers</code></li>
<li>Do not reinvent the wheel</li>
</ul>
<h4 id="unit_tests">Unit tests<a class="headerlink" href="#unit_tests" title="Permanent link">#</a></h4>
<ul>
<li>Provide minimal end-to-end unit testing</li>
<li>Usually we are happy with<ul>
<li>Lightly testing the tricky functions</li>
<li>Some end-to-end test to make sure the code is working</li>
</ul>
</li>
<li>Use your common sense<ul>
<li>E.g., no reason to test code that will be used only once</li>
</ul>
</li>
<li>To run unit tests in a single file
    <code>&gt; pytest datetime_utils_test.py -x -s</code></li>
<li>For more information on our testing conventions and guidelines, see
    <a href="/docs/coding/all.write_unit_tests.how_to_guide.md"><code>/docs/coding/all.write_unit_tests.how_to_guide.md</code></a></li>
</ul>
<h4 id="refactoring">Refactoring<a class="headerlink" href="#refactoring" title="Permanent link">#</a></h4>
<h5 id="when_moving_refactoring_code">When moving / refactoring code<a class="headerlink" href="#when_moving_refactoring_code" title="Permanent link">#</a></h5>
<ul>
<li>If you move files, refactor code, move functions around make sure that:<ul>
<li>Code and notebook work (e.g., imports and caller of the functions)</li>
<li>Documentation is updated (this is difficult, so best effort is enough)</li>
</ul>
</li>
<li>
<p>If the change you made is renaming a function:</p>
<ul>
<li>Check all calls made to that function, but if it is in notebooks, update
    ONLY in Master notebooks (name starts from <code>Master_...</code>)</li>
<li>Double check that changes are done both in <code>.ipynb</code> and <code>.py</code> versions</li>
<li>If you make changes directly in jupyter version, they will be automatically
    pulled to its Python copy</li>
<li>If you make changes in Python copy of the notebook, you'd have to pull
    changes to related jupyter notebook with a script:
    <code>&gt; jupytext --to ipynb {notebook name}.py</code></li>
</ul>
</li>
<li>
<p>For code find all the places that have been modified
    <code>&gt; grep -r "create_dataframe" *
    edgar/form_4/notebooks/Task252_EDG4_Coverage_of_our_universe_from_Forms4.ipynb:    "documents, transactions = edu.create_dataframes(\n",
    edgar/form_4/notebooks/Task313_EDG4_Understand_Form_4_amendments.ipynb:    "documents, transactions = edu.create_dataframes(\n",
    edgar/form_4/notebooks/Task193_EDG4_Compare_form4_against_Whale_Wisdom_and_TR.ipynb:    "documents, transactions, owners, footnotes = edu.create_dataframes(\n",</code></p>
</li>
<li>Or if you use mighty Pycharm, Ctrl + Mouse Left Click (Shows you all places
    where this function or variable was used) and try to fix them, at least to
    give your best shot at making things work<ul>
<li>You can edit the notebooks directly without opening, or open and fix it.</li>
</ul>
</li>
<li>But remember, you must know how to do it without fancy IDE like Pycharm.</li>
<li>If it's important code:<ul>
<li>Run unit tests</li>
<li>Run notebooks</li>
</ul>
</li>
</ul>
<h5 id="write_script_for_renamings">Write script for renamings<a class="headerlink" href="#write_script_for_renamings" title="Permanent link">#</a></h5>
<ul>
<li>When you need to rename any code object that is being used in many files, use
    <a href="/dev_scripts_helpers/system_tools/replace_text.py"><code>/dev_scripts_helpers/system_tools/replace_text.py</code></a>
    to write a script that will implement your task<ul>
<li>Read the script docstring for detailed information about how to use it</li>
</ul>
</li>
<li>You DO NOT use <code>replace_text.py</code> directly. Instead, create an executable <code>.sh</code>
    script that uses <code>replace_text.py</code><ul>
<li>Look for examples at <code>dev_scripts_helpers/cleanup_scripts</code></li>
<li>Commit the created script to the mentioned folder so then your team members
    can use it to implement renaming in other libs</li>
</ul>
</li>
</ul>
<h4 id="architectural_and_design_pattern">Architectural and design pattern<a class="headerlink" href="#architectural_and_design_pattern" title="Permanent link">#</a></h4>
<h5 id="research_quality_vs_production_quality">Research quality vs production quality<a class="headerlink" href="#research_quality_vs_production_quality" title="Permanent link">#</a></h5>
<ul>
<li>Code belonging to top level libraries (e.g., <code>//amp/core</code>, <code>//amp/helpers</code>)
    and production (e.g., <code>//.../db</code>, <code>vendors</code>) needs to meet high quality
    standards, e.g.,<ul>
<li>Well commented</li>
<li>Following our style guide</li>
<li>Thoroughly reviewed</li>
<li>Good design</li>
<li>Comprehensive unit tests</li>
</ul>
</li>
<li>Research code in notebook and Python can follow slightly looser standards,
    e.g.,<ul>
<li>Sprinkled with some TODOs</li>
<li>Not perfectly general</li>
</ul>
</li>
<li>The reason is that:<ul>
<li>Research code is still evolving and we want to keep the structure flexible</li>
<li>We don't want to invest the time in making it perfect if the research
    doesn't pan out</li>
</ul>
</li>
<li>Note that research code still needs to be:<ul>
<li>Understandable / usable by not authors</li>
<li>Well commented</li>
<li>Follow the style guide</li>
<li>Somehow unit tested</li>
</ul>
</li>
<li>We should be able to raise the quality of a piece of research code to
    production quality when that research goes into production</li>
</ul>
<h5 id="always_separate_what_changes_from_what_stays_the_same">Always separate what changes from what stays the same<a class="headerlink" href="#always_separate_what_changes_from_what_stays_the_same" title="Permanent link">#</a></h5>
<ul>
<li>In both main code and unit test it's not a good idea to repeat the same code</li>
<li><em>Bad</em><ul>
<li>Copy-paste-modify</li>
</ul>
</li>
<li><em>Good</em><ul>
<li>Refactor the common part in a function and then change the parameters used
    to call the function</li>
</ul>
</li>
<li>Example:<ul>
<li>What code is clearer to you, VersionA or VersionB?</li>
<li>Can you spot the difference between the 2 pieces of code?<ul>
<li>
<p>Version A</p>
<p>```python
stopwords = nlp_ut.read_stopwords_json(_STOPWORDS_PATH)
texts = ["a", "an", "the"]
stop_words = nlp_ut.get_stopwords(
        categories=["articles"], stopwords=stopwords
)
actual_result = nlp_ut.remove_tokens(texts, stop_words=stop_words)
expected_result = []
self.assertEqual(actual_result, expected_result)</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>...
texts = ["do", "does", "is", "am", "are", "be", "been", "'s", "'m", "'re"]
stop_words = nlp_ut.get_stopwords(
        categories=["auxiliary_verbs"], stopwords=stopwords,
)
actual_result = nlp_ut.remove_tokens(texts, stop_words=stop_words)
expected_result = []
self.assertEqual(actual_result, expected_result)
            ```
        - Version B</p>
<pre><code>        ```python
</code></pre>
<p>def _helper(texts, categories, expected_result):
        stopwords = nlp_ut.read_stopwords_json(_STOPWORDS_PATH)
        stop_words = nlp_ut.get_stopwords(
                categories=categories, stopwords=stopwords
        )
        actual_result = nlp_ut.remove_tokens(texts, stop_words=stop_words)
        expected_result = []
        self.assertEqual(actual_result, expected_result)</p>
<p>texts = ["a", "an", "the"]
categories = ["articles"]
expected_result = []
_helper(texts, categories, expected_result)
...</p>
<p>texts = ["do", "does", "is", "am", "are", "be", "been", "'s", "'m", "'re"]
categories = ["auxiliary_verbs"]
expected_result = []
<em>helper(texts, categories, expected_result)
            ```
        - Yes, Version A is _Bad</em> and Version B is <em>Good</em></p>
<h5 id="organize_scripts_as_pipelines">Organize scripts as pipelines<a class="headerlink" href="#organize_scripts_as_pipelines" title="Permanent link">#</a></h5>
<ul>
<li>One can organize complex computations in stages of a pipeline<ul>
<li>E.g., to parse EDGAR forms<ul>
<li>Download -&gt; (raw data) -&gt; header parser -&gt; (pq data) -&gt; XBLR / XML / XLS
    parser -&gt; (pq data) -&gt; custom transformation</li>
</ul>
</li>
</ul>
</li>
<li>One should be able to run the entire pipeline or just a piece<ul>
<li>E.g., one can run the header parser from the raw data, save the result to
    file, then read this file back, and run the XBLR parser</li>
</ul>
</li>
<li>Ideally one would always prefer to run the pipeline from scratch, but
    sometimes the stages are too expensive to compute over and over, so using
    chunks of the pipeline is better</li>
<li>This can also mixed with the "incremental mode", so that if one stage has
    already been run and the intermediate data has been generated, that stage is
    skipped<ul>
<li>Each stage can save files in a <code>tmp_dir/stage_name</code></li>
</ul>
</li>
<li>The code should be organized to allow these different modes of operations, but
    there is not always need to be super exhaustive in terms of command line
    options<ul>
<li>E.g., I implement the various chunks of the pipeline in a library,
    separating functions that read / save data after a stage and then assemble
    the pieces into a throw-away script where I hardwire the file names and so
    on</li>
</ul>
</li>
</ul>
<h5 id="make_filename_unique">Make filename unique<a class="headerlink" href="#make_filename_unique" title="Permanent link">#</a></h5>
<ul>
<li><em>Problem</em><ul>
<li>We have a lot of structure / boilerplate in our project around RH
    hypotheses.<ul>
<li>E.g., there are corresponding files for all the RH like:<ul>
<li><code>RHxyz/configs.py</code></li>
<li><code>RHxyz/pipeline.py</code></li>
</ul>
</li>
</ul>
</li>
<li>It is not clear if it's better to make filenames completely unique by
    repeating the <code>RH</code>, e.g., <code>RH1E_configs.py</code>, or let the directories
    disambiguate.</li>
<li>Note that we are not referring to other common files like <code>utils.py</code>, which
    are made unique by their position in the file system and by the automatic
    shortening of the imports.</li>
</ul>
</li>
<li><em>Decision</em><ul>
<li>Invoking the principle of 'explicit is better than implicit', the proposal
    is to repeat the prefix.<ul>
<li><em>Bad</em>: <code>RH1E/configs.py</code></li>
<li><em>Good</em>: <code>RH1E/RH1E_configs.py</code></li>
</ul>
</li>
</ul>
</li>
<li><em>Rationale</em><ul>
<li>Pros of the repetition (e.g., <code>RH1E/RH1E_configs.py</code>):<ul>
<li>The filename is unique so there is no dependency on where you are</li>
<li>Since pytest requires all files to be unique, we need to repeat the prefix
    for the test names and the rule is "always make the names of the files
    unique"</li>
<li>We are going to have lots of these files and we want to minimize the risk
    of making mistakes</li>
</ul>
</li>
<li>Cons of the repetition:<ul>
<li>Stuttering</li>
<li>What happens if there are multiple nested dirs? Do we repeat all the
    prefixes?<ul>
<li>This seems to be an infrequent case</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="incremental_behavior">Incremental behavior<a class="headerlink" href="#incremental_behavior" title="Permanent link">#</a></h5>
<ul>
<li>Often we need to run the same code over and over<ul>
<li>E.g., because the code fails on an unexpected point and then we need to
    re-run from the beginning</li>
</ul>
</li>
<li>We use options like:
    <code>--incremental
    --force
    --start_date
    --end_date
    --output_file</code></li>
<li>Check existence output file before start function (or a thread when using
    parallelism) which handle data of the corresponding period<ul>
<li>If <code>--incremental</code> is set and output file already exists then skip the
    computation and report<ul>
<li><code>_LOG.info("Skipping processing file %s as requested", ...)</code></li>
</ul>
</li>
<li>If <code>--incremental</code> is not set<ul>
<li>If output file exists then we issue a <code>_LOG.warning</code> and abort the process</li>
<li>If output file exists and param <code>--force</code>, then report a <code>_LOG.warning</code>
    and rewrite output file</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="run_end-to-end">Run end-to-end<a class="headerlink" href="#run_end-to-end" title="Permanent link">#</a></h5>
<ul>
<li>Try to run things end-to-end (and from scratch) so we can catch these
    unexpected issues and code defensively<ul>
<li>E.g., we found out that TR data is malformed sometimes and only running
    end-to-end we can catch all the weird cases</li>
<li>This also helps with scalability issues, since if takes 1 hr for 1 month of
    data and we have 10 years of data is going to take 120 hours (=5 days) to
    run on the entire data set</li>
</ul>
</li>
</ul>
<h5 id="think_about_scalability">Think about scalability<a class="headerlink" href="#think_about_scalability" title="Permanent link">#</a></h5>
<ul>
<li>Do experiments to try to understand if a code solution can scale to the
    dimension of the data we have to deal with<ul>
<li>E.g., inserting data by doing SQL inserts of single rows are not scalable
    for pushing 100GB of data</li>
</ul>
</li>
<li>Remember that typically we need to run the same scripts multiple times (e.g.,
    for debug and / or production)</li>
</ul>
<h5 id="use_command_line_for_reproducibility">Use command line for reproducibility<a class="headerlink" href="#use_command_line_for_reproducibility" title="Permanent link">#</a></h5>
<ul>
<li>Try to pass params through command line options when possible<ul>
<li>In this way a command line contains all the set-up to run an experiment</li>
</ul>
</li>
</ul>
<h5 id="structure_the_code_in_terms_of_filters">Structure the code in terms of filters<a class="headerlink" href="#structure_the_code_in_terms_of_filters" title="Permanent link">#</a></h5>
<ul>
<li>Focus on build a set of "filters" split into different functions, rather than
    a monolithic flow</li>
<li>Organize the code in terms of a sequence of transformations that can be run in
    sequence, e.g.,<ol>
<li>Create SQL tables</li>
<li>Convert json data to csv</li>
<li>Normalize tables</li>
<li>Load csv files into SQL</li>
<li>Sanity check the SQL (e.g., mismatching TR codes, missing dates)</li>
<li>Patch up SQL (e.g., inserting missing TR codes and reporting them to us so
 we can check with TR)</li>
</ol>
</li>
</ul>
<h4 id="code_style_for_different_languages">Code style for different languages<a class="headerlink" href="#code_style_for_different_languages" title="Permanent link">#</a></h4>
<h5 id="sql">SQL<a class="headerlink" href="#sql" title="Permanent link">#</a></h5>
<ul>
<li>You can use the package
    <a href="https://github.com/andialbrecht/sqlparse">https://github.com/andialbrecht/sqlparse</a>
    to format SQL queries</li>
<li>There is also an on-line version of the same formatter at
    <a href="https://sqlformat.org">https://sqlformat.org</a></li>
</ul>
<h3 id="conventions_addendum">Conventions (Addendum)<a class="headerlink" href="#conventions_addendum" title="Permanent link">#</a></h3>
<h4 id="be_patient">Be patient<a class="headerlink" href="#be_patient" title="Permanent link">#</a></h4>
<ul>
<li>For some reason talking about conventions makes people defensive and
    uncomfortable, sometimes.</li>
<li>Conventions are not a matter of being right or wrong, but to consider pros and
    cons of different approaches, and make the decision only once instead of
    discussing the same problem every time. In this way we can focus on achieving
    the Ultimate Goal.</li>
<li>If you are unsure or indifferent to a choice, be flexible and let other
    persons that seem to be less flexible decide.</li>
</ul>
<h4 id="goal">Goal<a class="headerlink" href="#goal" title="Permanent link">#</a></h4>
<ul>
<li>The goal of the conventions is to simplify our job by removing ambiguity</li>
<li>There is no right or wrong: that's why it's a convention and not a law of
    nature<ul>
<li>On the flip-side, if there is a right and wrong, then what we are discussing
    probably shouldn't be considered as a convention</li>
</ul>
</li>
<li>We don't want to spend time discussing inconsequential points</li>
<li>We don't want reviewers to pick lints instead of focusing on architectural
    issues and potential bugs</li>
<li>Remove cognitive burden of being distracted by "this is an annoying lint" (or
    at least perceived lint)</li>
<li>Once a convention is stable, we would like to automate enforcing it by Linter<ul>
<li>Ideally Linter should fix our mistakes so we don't even have to think about
    them, and reviewers don't have to be distracted with pointing out the lints</li>
</ul>
</li>
</ul>
<h4 id="keep_the_rules_simple">Keep the rules simple<a class="headerlink" href="#keep_the_rules_simple" title="Permanent link">#</a></h4>
<ul>
<li>E.g., assume that we accepted the following rules:<ul>
<li>Git is capitalized if it refers to the tool and it's not capitalized when it
    refers to the command (this is what Git documentation suggests)</li>
<li>Python is written capitalized (this is what Python documentation suggests)</li>
<li><code>pandas</code> is written lowercase, unless it is a beginning of the line in which
    case it's capitalized, but it's better to try to avoid to start a sentence
    with it (this is what <code>pandas</code> + English convention seems to suggest)</li>
<li>Any other library could suggest a different convention based on the
    preference of its author, who tries to finally force people to follow his /
    her convention ...)</li>
</ul>
</li>
<li>All these rules require mental energy to be followed and readers will spend
    time checking that these rules are enforced, rather than focusing on bugs and
    architecture.</li>
<li>In this case we want to leverage the ambiguity of "it's unclear what is the
    correct approach" by simplifying the rule<ul>
<li>E.g., every name of tools or library is always capitalized</li>
<li>This is simple to remember and automatically enforce</li>
</ul>
</li>
</ul>
<h4 id="allow_turning_off_the_automatic_tools">Allow turning off the automatic tools<a class="headerlink" href="#allow_turning_off_the_automatic_tools" title="Permanent link">#</a></h4>
<ul>
<li>We understand that tools can't always understand the context and the
    subtleties of human thoughts, and therefore they yield inevitably to false
    positives.</li>
<li>Then we always want to permit disabling the automatic checks / fixes e.g., by
    using directives in comments or special syntax (e.g., anything in a <code>...</code> or
    <code>...</code> block should be left untouched)</li>
<li>It can be tricky determining when an exception is really needed and when
    overriding the tool becomes a slippery slope for ignoring the rules.</li>
<li>Patience and flexibility is advised here.</li>
</ul>
<h4 id="make_the_spell-checker_happy">Make the spell-checker happy<a class="headerlink" href="#make_the_spell-checker_happy" title="Permanent link">#</a></h4>
<ul>
<li>The spell-checker is not always right: false positives are often very annoying</li>
<li>We prefer to find a way to make the spell-checker happy rather than argue that
    the spell-checker is wrong and ignore it</li>
<li>The risk with overriding the spell-checker (and any other tool) is that the
    decision is not binary anymore correct / not-correct and can't be automated
    and requires mental energy to see if the flagged error is real or not.<ul>
<li>E.g., <code>insample</code> is flagged as erroneous, so we convert it into <code>in-sample</code>.</li>
</ul>
</li>
<li>The solution for the obvious cases of missing a word (e.g., a technical word)
    is to add words to the vocabulary. This still needs to be done by everyone,
    until we find a way to centralize the vocabulary.<ul>
<li>E.g., untradable is a valid English word, but Pycharm's spell-checker
    doesn't recognize it.</li>
</ul>
</li>
<li>TODO(*): Should we add it to the dictionary or write it as "un-tradable"?</li>
<li>Still we don't want to override the spell-checker when an alternative
    lower-cost solution is available. E.g.,<ul>
<li><code>in-sample</code> instead of <code>insample</code></li>
<li><code>out-of-sample</code> instead of <code>oos</code></li>
</ul>
</li>
<li>We decided that <code>hyper-parameter</code> can be written without hyphen:
    <code>hyperparameter</code></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.action.edit"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>